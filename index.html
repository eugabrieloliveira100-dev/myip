<!DOCTYPE html>
<html lang="en-US">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-CPDBZNF3CT"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-CPDBZNF3CT');
    </script>

    <!-- JSON-LD Structured Data (Schema.org) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Check My IP Today",
      "url": "https://checkmyip.today/",
      "description": "Professional tool to detect your public IPv4 and IPv6 addresses with real-time geolocation, ISP details, and VPN detection.",
      "applicationCategory": "UtilitiesApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "featureList": [
        "IPv4 Detection",
        "IPv6 Detection",
        "Real-time Geolocation",
        "ISP and ASN identification",
        "VPN and Proxy Security Check"
      ]
    }
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>What is My IP Address? | Full Public IP Checker (IPv4 & IPv6)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-dark': '#111827', 
                        'secondary-dark': '#1F2937', 
                        'accent': '#3B82F6', 
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        .ip-card { opacity: 0; transform: translateY(20px); transition: all 0.5s ease-out; }
        .ip-card.loaded { opacity: 1; transform: translateY(0); }
        .loader { border: 4px solid rgba(0,0,0,0.1); border-top: 4px solid #3B82F6; border-radius: 50%; width: 30px; height: 30px; animation: spin 1s linear infinite; }
        .dark .loader { border: 4px solid rgba(255, 255, 255, 0.1); border-top: 4px solid #3B82F6; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .terminal-box { background-color: #1a1a1a; color: #d1d1d1; font-family: 'Courier New', Courier, monospace; }
    </style>
</head>
<body class="bg-primary-dark text-gray-100 min-h-screen flex flex-col font-sans p-4 transition-colors duration-300">

    <!-- Header -->
    <header class="text-center py-6 relative">
        <div class="flex flex-col items-center justify-center space-y-2 mb-4">
            <div class="flex items-center justify-center space-x-3">
                <h1 id="main-title" class="text-3xl font-bold tracking-tight">
                    Full IP <span class="text-accent">Checker</span>
                </h1>
                <button id="copy-all-button" class="flex items-center justify-center p-2 text-xs bg-accent hover:bg-blue-600 text-white font-medium rounded-full shadow-md transition-all duration-200" title="Copy All Information">
                    <svg id="copy-all-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                        <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                    </svg>
                </button>
            </div>
        </div>
        
        <div class="absolute top-4 right-4 md:top-6 md:right-6 flex space-x-2">
            <button id="lang-toggle" class="px-3 py-1 text-sm font-medium rounded-full transition duration-200 shadow-sm border border-gray-700 bg-secondary-dark hover:bg-gray-700 text-white">
                EN / PT
            </button>
            <button id="theme-toggle" class="px-3 py-1 text-sm font-medium rounded-full transition duration-200 shadow-sm border border-gray-700 bg-secondary-dark hover:bg-gray-700 text-white">
                <!-- Icon -->
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow flex flex-col items-center py-8">
        <div id="ip-card" class="ip-card w-full max-w-2xl p-6 md:p-10 rounded-xl text-center mb-8">
            
            <!-- IP SEARCH TOOL SECTION -->
            <div id="ip-search-section" class="p-4 rounded-xl border-2 border-dashed mb-8 border-gray-700/50">
                <h3 id="search-title" class="text-lg font-semibold mb-4 text-left">IP Lookup Tool</h3>
                <div class="flex flex-col md:flex-row space-y-3 md:space-y-0 md:space-x-3">
                    <input id="ip-search-input" type="text" placeholder="Ex: 8.8.8.8" 
                           class="flex-grow p-3 rounded-lg border focus:ring-accent focus:border-accent bg-gray-900 border-gray-700 text-white">
                    <button id="ip-search-button" class="px-6 py-3 bg-accent hover:bg-blue-600 text-white font-semibold rounded-lg shadow-md transition-colors">
                        Lookup
                    </button>
                </div>
                <p id="search-message" class="text-sm mt-3 text-left hidden"></p>
            </div>

            <h2 id="detected-ip-title" class="text-xl md:text-2xl font-semibold mb-8 pt-4 border-t border-gray-700/30">
                Your Detected IP Address
            </h2>

            <!-- IP Container -->
            <div id="ip-container" class="mb-8 flex flex-col space-y-8 w-full">
                <div id="ipv4-block" class="p-6 rounded-xl border">
                    <div class="flex justify-between items-center mb-4">
                        <p class="text-lg font-semibold">IPv4</p>
                        <button id="copy-ipv4-button" class="flex items-center justify-center px-4 py-2 text-sm bg-accent hover:bg-blue-600 text-white font-medium rounded-lg opacity-0 pointer-events-none transition-all" disabled>
                            <span id="copy-ipv4-text">Copy</span>
                        </button>
                    </div>
                    <div id="ipv4-display" class="min-h-[50px] flex flex-col items-center justify-center">
                        <div class="loader"></div>
                    </div>
                </div>

                <div id="ipv6-block" class="p-6 rounded-xl border">
                    <div class="flex justify-between items-center mb-4">
                        <p class="text-lg font-semibold">IPv6</p>
                        <button id="copy-ipv6-button" class="flex items-center justify-center px-4 py-2 text-sm bg-accent hover:bg-blue-600 text-white font-medium rounded-lg opacity-0 pointer-events-none transition-all" disabled>
                            <span id="copy-ipv6-text">Copy</span>
                        </button>
                    </div>
                    <div id="ipv6-display" class="min-h-[50px] flex flex-col items-center justify-center">
                        <div class="loader"></div>
                    </div>
                </div>
            </div>

            <div id="context-info-card" class="mt-8 pt-6 border-t border-gray-700/30 text-left">
                <div class="mb-4">
                    <h2 id="geo-details-title" class="text-xl md:text-2xl font-semibold mb-1">Geolocation Details</h2>
                    <p id="geo-ip-source-display" class="text-sm italic">Querying details...</p>
                </div>
                <div id="geo-display" class="flex flex-col items-center justify-center h-24">
                    <div class="loader mb-2"></div>
                </div>
            </div>
            
            <div id="geoip-warning-note" class="mt-6 p-4 rounded-xl border-l-4">
                <h3 id="geo-warning-title" class="text-base font-semibold mb-1"></h3>
                <p id="geo-warning-text" class="text-sm"></p>
            </div>
        </div>

        <!-- EDUCATIONAL SECTION -->
        <div class="w-full max-w-2xl mt-4 px-4">
            <div id="edu-card" class="p-6 md:p-8 rounded-xl border shadow-lg">
                <h2 id="edu-section-title" class="text-2xl font-bold mb-6 text-accent">How to check your IP via Terminal</h2>
                <div class="space-y-6">
                    <div>
                        <h3 id="edu-win-title" class="text-lg font-semibold mb-2 flex items-center">ü™ü Windows</h3>
                        <p id="edu-win-desc" class="text-sm mb-2 opacity-80">Open terminal and type:</p>
                        <div class="terminal-box p-3 rounded-lg text-sm select-all">ipconfig</div>
                    </div>
                    <div>
                        <h3 id="edu-linux-title" class="text-lg font-semibold mb-2 flex items-center">üêß Linux / üçé macOS</h3>
                        <p id="edu-linux-desc" class="text-sm mb-2 opacity-80">Use these commands:</p>
                        <div class="terminal-box p-3 rounded-lg text-sm mb-1 select-all">ip a</div>
                        <div class="terminal-box p-3 rounded-lg text-sm select-all">ifconfig</div>
                    </div>
                    <p id="edu-footer-note" class="text-xs italic mt-4"></p>
                </div>
            </div>
        </div>
    </main>

    <footer class="text-center py-8 text-xs mt-auto">
        <p id="footer-privacy-text" class="mb-2 opacity-60">Privacy guaranteed: Your data is not stored.</p>
        <p>&copy; 2025 IP Checker. | <a href="#" id="privacy-policy-link" class="underline opacity-50 hover:opacity-100">Privacy Policy</a></p>
    </footer>

    <script>
        const languageMap = {
            PT: {
                title: 'Verificador de IP Completo',
                detectedIpTitle: 'Seu Endere√ßo IP Detectado',
                geoDetailsTitle: 'Detalhes da Geolocaliza√ß√£o',
                searchToolTitle: 'Ferramenta de Pesquisa de IP',
                searchPlaceholder: 'Ex: 8.8.8.8',
                searchButton: 'Verificar',
                copy: 'Copiar',
                copied: 'Copiado!',
                notDetected: 'N√£o Detectado',
                copyAll: 'Copiar Tudo',
                country: 'Pa√≠s', city: 'Cidade', timezone: 'Fuso Hor√°rio', asn: 'ASN', isp: 'Provedor (ISP)',
                securityTitle: 'Seguran√ßa', isClean: 'Conex√£o Limpa', detected: 'Sim (Risco)',
                searchInvalid: 'IP inv√°lido.',
                sourceMyIp: 'Consultando seus detalhes...',
                sourceSearchedIp: 'Detalhes para:',
                errorGeo: 'Erro ao obter localiza√ß√£o.',
                footerPrivacy: 'Privacidade garantida: Seus dados n√£o s√£o armazenados.',
                privacyPolicy: 'Pol√≠tica de Privacidade',
                geoWarningTitle: '‚ö†Ô∏è Precis√£o da Geolocaliza√ß√£o',
                geoWarningText: 'A precis√£o por IP √© uma estimativa. IPv6 geralmente aponta para a central do provedor, enquanto o IPv4 tende a ser mais preciso.',
                eduTitle: 'Como checar seu IP via Terminal',
                eduWinDesc: 'Abra o terminal e digite:',
                eduLinuxDesc: 'Use estes comandos:',
                eduFooter: 'Nota: Estes mostram o **IP local**. Para o **p√∫blico**, use: <code class="bg-gray-800 px-1 rounded text-accent">curl ifconfig.me</code>'
            },
            EN: {
                title: 'Full IP Checker',
                detectedIpTitle: 'Your Detected IP Address',
                geoDetailsTitle: 'Geolocation Details',
                searchToolTitle: 'IP Lookup Tool',
                searchPlaceholder: 'Ex: 8.8.8.8',
                searchButton: 'Lookup',
                copy: 'Copy',
                copied: 'Copied!',
                notDetected: 'Not Detected',
                copyAll: 'Copy All',
                country: 'Country', city: 'City', timezone: 'Timezone', asn: 'ASN', isp: 'Provider (ISP)',
                securityTitle: 'Security', isClean: 'Clean Connection', detected: 'Yes (Risk)',
                searchInvalid: 'Invalid IP.',
                sourceMyIp: 'Querying details...',
                sourceSearchedIp: 'Details for:',
                errorGeo: 'Could not retrieve location.',
                footerPrivacy: 'Privacy guaranteed: Your data is not stored.',
                privacyPolicy: 'Privacy Policy',
                geoWarningTitle: '‚ö†Ô∏è Geolocation Accuracy',
                geoWarningText: 'IP accuracy is an estimate. IPv6 often points to the provider headquarters, while IPv4 is usually more precise.',
                eduTitle: 'How to check your IP via Terminal',
                eduWinDesc: 'Open terminal and type:',
                eduLinuxDesc: 'Use these commands:',
                eduFooter: 'Note: These show **local IP**. For **public IP**, use: <code class="bg-gray-800 px-1 rounded text-accent">curl ifconfig.me</code>'
            }
        };

        let currentLang = 'EN'; 
        let currentTheme = 'dark'; 
        let userIpv4 = null, userIpv6 = null, currentGeoData = null, currentGeoIp = null;

        function applyTheme() {
            const isDark = currentTheme === 'dark';
            const body = document.body;
            const ipCard = document.getElementById('ip-card');
            const eduCard = document.getElementById('edu-card');
            const searchSection = document.getElementById('ip-search-section');
            const searchInput = document.getElementById('ip-search-input');
            const warningNote = document.getElementById('geoip-warning-note');
            
            // Core themes
            if (isDark) {
                body.classList.add('bg-primary-dark', 'text-gray-100');
                body.classList.remove('bg-gray-50', 'text-gray-900', 'dark');
                ipCard.className = "ip-card w-full max-w-2xl p-6 md:p-10 rounded-xl text-center mb-8 bg-secondary-dark border border-gray-700 loaded";
                eduCard.className = "p-6 md:p-8 rounded-xl bg-secondary-dark border border-gray-700 shadow-2xl";
                searchSection.classList.add('border-gray-700');
                searchInput.className = "flex-grow p-3 rounded-lg border bg-gray-900 border-gray-700 text-white focus:ring-accent";
                warningNote.className = "mt-6 p-4 rounded-xl border-l-4 bg-yellow-900/30 border-yellow-500 text-yellow-100";
                
                // Text Colors (Dark Mode)
                document.getElementById('search-title').className = "text-lg font-semibold mb-4 text-left text-gray-300";
                document.getElementById('geo-details-title').className = "text-xl md:text-2xl font-semibold mb-1 text-gray-200";
                document.getElementById('geo-ip-source-display').className = "text-sm italic text-gray-400";
            } else {
                body.classList.remove('bg-primary-dark', 'text-gray-100');
                body.classList.add('bg-gray-50', 'text-gray-900');
                ipCard.className = "ip-card w-full max-w-2xl p-6 md:p-10 rounded-xl text-center mb-8 bg-white border border-gray-200 shadow-xl loaded";
                eduCard.className = "p-6 md:p-8 rounded-xl bg-white border border-gray-200 shadow-lg";
                searchSection.classList.remove('border-gray-700');
                searchSection.classList.add('border-gray-200');
                searchInput.className = "flex-grow p-3 rounded-lg border bg-gray-50 border-gray-300 text-gray-900 focus:ring-accent";
                warningNote.className = "mt-6 p-4 rounded-xl border-l-4 bg-yellow-50 border-yellow-400 text-yellow-800";
                
                // Text Colors (Light Mode) - FIXING THE VISIBILITY
                document.getElementById('search-title').className = "text-lg font-semibold mb-4 text-left text-gray-700";
                document.getElementById('geo-details-title').className = "text-xl md:text-2xl font-semibold mb-1 text-gray-800";
                document.getElementById('geo-ip-source-display').className = "text-sm italic text-gray-500";
            }

            // Blocks (IPv4/IPv6)
            ['ipv4-block', 'ipv6-block'].forEach(id => {
                const el = document.getElementById(id);
                el.className = isDark ? 'p-6 rounded-xl bg-gray-800 border border-gray-700' : 'p-6 rounded-xl bg-gray-50 border border-gray-200';
            });

            document.getElementById('theme-toggle').innerHTML = isDark ? 'üåô' : '‚òÄÔ∏è';
            renderGeoDetails(currentGeoData, currentGeoIp);
            updateIpUI();
        }

        function updateIpUI() {
            const lang = languageMap[currentLang];
            updateIpBlock(userIpv4, 'ipv4-display', 'copy-ipv4-button', 'copy-ipv4-text', lang.copy, 'text-3xl md:text-5xl');
            updateIpBlock(userIpv6, 'ipv6-display', 'copy-ipv6-button', 'copy-ipv6-text', lang.copy, 'text-xl md:text-3xl');
        }

        function updateIpBlock(ip, displayId, buttonId, textId, btnText, size) {
            const display = document.getElementById(displayId);
            const btn = document.getElementById(buttonId);
            const txt = document.getElementById(textId);
            if (ip) {
                display.innerHTML = `<p class="${size} font-extrabold text-accent break-all">${ip}</p>`;
                txt.textContent = btnText;
                btn.onclick = () => {
                    const temp = document.createElement('textarea'); temp.value = ip; document.body.appendChild(temp); temp.select();
                    if(document.execCommand('copy')) { txt.textContent = languageMap[currentLang].copied; setTimeout(()=> txt.textContent = btnText, 1500); }
                    document.body.removeChild(temp);
                };
                btn.disabled = false; btn.classList.remove('opacity-0', 'pointer-events-none');
            } else if (userIpv4 !== null || userIpv6 !== null) {
                display.innerHTML = `<p class="text-xl text-gray-500">${languageMap[currentLang].notDetected}</p>`;
            }
        }

        function translatePage() {
            const lang = languageMap[currentLang];
            document.getElementById('main-title').innerHTML = lang.title.replace('Full', '<span class="text-accent">Full</span>').replace('Completo', '<span class="text-accent">Completo</span>');
            document.getElementById('detected-ip-title').textContent = lang.detectedIpTitle;
            document.getElementById('search-title').textContent = lang.searchToolTitle;
            document.getElementById('ip-search-input').placeholder = lang.searchPlaceholder;
            document.getElementById('ip-search-button').textContent = lang.searchButton;
            document.getElementById('geo-details-title').textContent = lang.geoDetailsTitle;
            document.getElementById('geo-warning-title').textContent = lang.geoWarningTitle;
            document.getElementById('geo-warning-text').textContent = lang.geoWarningText;
            document.getElementById('edu-section-title').textContent = lang.eduTitle;
            document.getElementById('edu-win-desc').textContent = lang.eduWinDesc;
            document.getElementById('edu-linux-desc').textContent = lang.eduLinuxDesc;
            document.getElementById('edu-footer-note').innerHTML = lang.eduFooter;
            document.getElementById('footer-privacy-text').textContent = lang.footerPrivacy;
            document.getElementById('privacy-policy-link').textContent = lang.privacyPolicy;
            applyTheme();
        }

        function renderGeoDetails(data, ip) {
            const lang = languageMap[currentLang];
            const isDark = currentTheme === 'dark';
            const display = document.getElementById('geo-display');
            if (!data) return;
            currentGeoData = data; currentGeoIp = ip;
            
            const cardBg = isDark ? 'bg-gray-700/50' : 'bg-gray-100';
            const labelColor = isDark ? 'text-gray-400' : 'text-gray-500';
            const valColor = isDark ? 'text-white' : 'text-gray-800';

            display.className = "grid grid-cols-2 gap-3 w-full text-left mt-4";
            display.innerHTML = ['country', 'city', 'timezone', 'asn', 'isp'].map(k => `
                <div class="col-span-2 md:col-span-1 p-3 rounded-lg ${cardBg}">
                    <span class="block text-xs font-bold uppercase tracking-wider ${labelColor}">${lang[k]}</span>
                    <span class="font-bold ${valColor}">${data[k] || 'N/A'}</span>
                </div>
            `).join('') + `
                <div class="col-span-2 p-3 rounded-lg border ${data.isProxy || data.isVpn ? 'border-red-500/30 bg-red-500/10' : 'border-green-500/30 bg-green-500/10'}">
                    <span class="block text-xs font-bold uppercase ${labelColor}">${lang.securityTitle}</span>
                    <span class="font-bold ${data.isProxy || data.isVpn ? 'text-red-500' : 'text-green-500'}">${data.isProxy || data.isVpn ? lang.detected : lang.isClean}</span>
                </div>
            `;
        }

        async function fetchIPs() {
            try {
                const [v4res, v6res] = await Promise.allSettled([
                    fetch('https://api.ipify.org?format=json').then(r => r.json()),
                    fetch('https://api6.ipify.org?format=json').then(r => r.json())
                ]);
                userIpv4 = v4res.status === 'fulfilled' ? v4res.value.ip : null;
                userIpv6 = v6res.status === 'fulfilled' ? v6res.value.ip : null;
                const geoRes = await fetch(`https://ipapi.co/${userIpv4 || userIpv6}/json/`);
                const geoData = await geoRes.json();
                renderGeoDetails({ country: geoData.country_name, city: geoData.city, isp: geoData.org, asn: geoData.asn, timezone: geoData.timezone, isProxy: geoData.proxy, isVpn: geoData.vpn }, userIpv4 || userIpv6);
                updateIpUI();
            } catch (e) { console.error(e); }
        }

        document.getElementById('lang-toggle').addEventListener('click', () => { currentLang = currentLang === 'EN' ? 'PT' : 'EN'; translatePage(); });
        document.getElementById('theme-toggle').addEventListener('click', () => { currentTheme = currentTheme === 'dark' ? 'light' : 'dark'; applyTheme(); });
        
        document.getElementById('ip-search-button').addEventListener('click', async () => {
            const ip = document.getElementById('ip-search-input').value.trim();
            if(!ip) return;
            const res = await fetch(`https://ipapi.co/${ip}/json/`);
            const data = await res.json();
            renderGeoDetails({ country: data.country_name, city: data.city, isp: data.org, asn: data.asn, timezone: data.timezone, isProxy: data.proxy, isVpn: data.vpn }, ip);
        });

        window.onload = () => { fetchIPs(); translatePage(); };
    </script>
</body>
</html>
