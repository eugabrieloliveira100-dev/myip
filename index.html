<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Check My IP Today - Global Lookup</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Plus+Jakarta+Sans:wght@400;600;800&display=swap');
        
        :root {
            --bg-deep: #020617;
            --accent: #3b82f6;
        }

        body { 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            background-color: var(--bg-deep);
            color: #f1f5f9;
            min-height: 100vh;
            padding: 2rem 1rem;
        }

        .glass-card {
            background: rgba(15, 23, 42, 0.6);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            width: 100%;
        }

        .vertical-stack {
            display: flex;
            flex-direction: column;
            gap: 20px;
            max-width: 1000px;
            margin: 0 auto;
        }

        .scanner-line {
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--accent), transparent);
            animation: scan 3s infinite linear;
        }

        @keyframes scan {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100%); }
        }

        .webrtc-tag {
            background: rgba(234, 179, 8, 0.1);
            color: #eab308;
            border: 1px solid rgba(234, 179, 8, 0.2);
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 11px;
            font-weight: bold;
        }

        .explanation-text {
            color: #cbd5e1;
            font-size: 13px;
            line-height: 1.6;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }
    </style>
</head>
<body>

    <div class="vertical-stack">
        
        <!-- Header -->
        <header class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4 bg-slate-900/50 p-6 rounded-3xl border border-white/5">
            <div>
                <h1 class="text-2xl font-extrabold tracking-tight">CHECKMYIP.<span class="text-blue-500">TODAY</span></h1>
                <p class="text-slate-500 text-xs font-mono mt-1">ADVANCED NETWORK DISCOVERY ENGINE</p>
            </div>
            <div id="global-status" class="flex items-center gap-3 bg-black/30 px-4 py-2 rounded-full border border-white/10">
                <span class="h-2 w-2 rounded-full bg-green-500 animate-pulse"></span>
                <span id="status-text" class="text-xs font-bold uppercase tracking-widest text-slate-300">SYSTEM READY</span>
            </div>
        </header>

        <!-- Your Public IP Address Section -->
        <section class="grid grid-cols-1 md:grid-cols-2 gap-[20px]">
            <div class="glass-card p-8 rounded-3xl relative overflow-hidden">
                <div class="scanner-line absolute w-full top-0 left-0 opacity-20"></div>
                <div class="flex justify-between items-start mb-6">
                    <span class="bg-blue-500/10 text-blue-400 px-3 py-1 rounded-lg text-[10px] font-bold uppercase tracking-wider">Your Public IP Address</span>
                    <i class="fas fa-network-wired text-blue-500/50"></i>
                </div>
                <h2 class="text-slate-500 text-sm font-semibold mb-2">IPv4 PROTOCOL</h2>
                <div id="ipv4-display" class="text-3xl md:text-5xl font-black tracking-tighter text-white truncate">Detecting...</div>
                <div class="mt-6">
                    <button onclick="copyContent('ipv4-display')" class="text-xs bg-slate-800 hover:bg-slate-700 p-2 px-4 rounded-xl transition-all"><i class="far fa-copy mr-2"></i>Copy IPv4</button>
                </div>
            </div>

            <div class="glass-card p-8 rounded-3xl relative overflow-hidden">
                <div class="flex justify-between items-start mb-6">
                    <span class="bg-purple-500/10 text-purple-400 px-3 py-1 rounded-lg text-[10px] font-bold uppercase tracking-wider">Your Public IP Address</span>
                    <i class="fas fa-globe-americas text-purple-500/50"></i>
                </div>
                <h2 class="text-slate-500 text-sm font-semibold mb-2">IPv6 PROTOCOL</h2>
                <div id="ipv6-display" class="text-2xl md:text-4xl font-black tracking-tighter text-slate-600 truncate">Not Detected</div>
                <div class="mt-6">
                    <button onclick="copyContent('ipv6-display')" class="text-xs bg-slate-800 hover:bg-slate-700 p-2 px-4 rounded-xl transition-all"><i class="far fa-copy mr-2"></i>Copy IPv6</button>
                </div>
            </div>
        </section>

        <!-- Location Info & Provider Info -->
        <section class="grid grid-cols-1 md:grid-cols-2 gap-[20px]">
            <div class="glass-card p-6 rounded-3xl">
                <h3 class="text-xs font-bold text-slate-500 uppercase tracking-widest mb-6 flex items-center">
                    <i class="fas fa-map-marker-alt mr-2 text-blue-500"></i> Location Info
                </h3>
                <div class="space-y-4">
                    <div class="flex justify-between border-b border-white/5 pb-2">
                        <span class="text-slate-400 text-sm">City</span>
                        <span id="info-city" class="text-white font-bold text-sm">---</span>
                    </div>
                    <div class="flex justify-between border-b border-white/5 pb-2">
                        <span class="text-slate-400 text-sm">Region</span>
                        <span id="info-region" class="text-white font-bold text-sm">---</span>
                    </div>
                    <div class="flex justify-between">
                        <span class="text-slate-400 text-sm">Country</span>
                        <span id="info-country" class="text-white font-bold text-sm">---</span>
                    </div>
                </div>
            </div>

            <div class="glass-card p-6 rounded-3xl">
                <h3 class="text-xs font-bold text-slate-500 uppercase tracking-widest mb-6 flex items-center">
                    <i class="fas fa-server mr-2 text-blue-500"></i> PROVIDER INFO
                </h3>
                <div class="space-y-4">
                    <div class="flex flex-col gap-1">
                        <span class="text-slate-400 text-xs">Internet Service Provider (ISP)</span>
                        <span id="info-isp" class="text-white font-bold text-sm truncate">Loading...</span>
                    </div>
                    <div class="flex justify-between pt-2">
                        <span class="text-slate-400 text-sm">Organization</span>
                        <span id="info-org" class="text-white font-bold text-sm truncate max-w-[150px]">---</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- WebRTC Leak Test Section -->
        <section class="glass-card p-6 rounded-3xl border-l-4 border-l-yellow-500/50">
            <h3 class="text-xs font-bold text-slate-500 uppercase tracking-widest mb-4 flex items-center">
                üõ°Ô∏è WebRTC Leak Test
            </h3>
            <div class="flex flex-wrap gap-2 min-h-[40px] items-center" id="webrtc-ips">
                <span class="text-[10px] text-slate-500 font-mono animate-pulse">Initializing WebRTC scan...</span>
            </div>
            
            <div class="explanation-text">
                <p><strong>About this test:</strong> WebRTC is a technology that enables real-time communication in your browser. However, it can reveal ("leak") your true IP addresses even if you are using a VPN. The numbers above represent your unique network identifiers: <strong>IPv4</strong> (e.g., 186.x.x.x) and <strong>IPv6</strong> (long format) are your public internet addresses, while other numbers may indicate your local interface or network routes. If you see your real IP here while using a VPN, your privacy might be exposed.</p>
            </div>
        </section>

        <!-- Network & Organization Details -->
        <section class="glass-card p-8 rounded-3xl bg-gradient-to-br from-slate-900 to-black border border-blue-500/20">
            <div class="flex flex-col md:flex-row md:items-end justify-between gap-6 mb-8">
                <div>
                    <h2 class="text-xl font-bold mb-2">üîç Network & Organization Details</h2>
                    <p class="text-slate-400 text-sm">Lookup any IP address for detailed ASN, ISP and WHOIS records.</p>
                </div>
                <div class="flex flex-col gap-2 w-full md:w-auto">
                    <span class="text-[10px] text-slate-500 font-bold uppercase tracking-widest ml-1">Analyze Specific IP</span>
                    <div class="flex bg-white/5 border border-white/10 rounded-2xl overflow-hidden focus-within:border-blue-500 transition-all">
                        <input type="text" id="ip-search-input" placeholder="Ex: 1.1.1.1" class="bg-transparent border-none outline-none px-4 py-3 text-sm text-white w-full md:w-64 font-mono">
                        <button id="lookup-btn" onclick="performLookup()" class="bg-blue-600 hover:bg-blue-500 text-white px-6 transition-all">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="bg-white/5 p-4 rounded-2xl border border-white/5">
                    <span class="text-[10px] uppercase text-slate-500 block mb-1">Autonomous System (ASN)</span>
                    <span id="info-asn" class="text-blue-400 font-mono font-bold">---</span>
                </div>
                <div class="bg-white/5 p-4 rounded-2xl border border-white/5">
                    <span class="text-[10px] uppercase text-slate-500 block mb-1">Hostname / IP Searched</span>
                    <span id="info-hostname" class="text-white font-mono text-xs truncate block">---</span>
                </div>
            </div>
        </section>

        <!-- Developer Tools -->
        <section class="glass-card p-6 rounded-3xl border border-dashed border-white/10 mb-8">
            <h3 class="text-xs font-bold text-slate-500 uppercase tracking-widest mb-4 flex items-center">
                üõ†Ô∏è Developer Tools
            </h3>
            <div class="flex flex-wrap gap-3">
                <button onclick="initSequence()" class="bg-blue-600 hover:bg-blue-500 text-white text-[10px] font-bold py-2 px-4 rounded-xl transition-all">RE-SCAN</button>
                <button onclick="window.print()" class="bg-slate-800 hover:bg-slate-700 text-white text-[10px] font-bold py-2 px-4 rounded-xl transition-all">EXPORT PDF</button>
            </div>
        </section>

    </div>

    <script>
        function updateAllUIComponents(data) {
            const isIPv6 = data.ip && data.ip.includes(':');
            if(isIPv6) {
                document.getElementById('ipv6-display').innerText = data.ip;
                document.getElementById('ipv6-display').classList.replace('text-slate-600', 'text-purple-400');
            } else {
                document.getElementById('ipv4-display').innerText = data.ip || "N/A";
            }
            document.getElementById('info-city').innerText = data.city || "---";
            document.getElementById('info-region').innerText = data.region || "---";
            document.getElementById('info-country').innerText = data.country_name || "---";
            document.getElementById('info-isp').innerText = data.org || "---";
            document.getElementById('info-org').innerText = data.asn || "---";
            document.getElementById('info-asn').innerText = data.asn || "---";
            document.getElementById('info-hostname').innerText = data.ip;
        }

        async function performLookup() {
            const input = document.getElementById('ip-search-input');
            const targetIp = input.value.trim();
            if(!targetIp) return;
            
            try {
                const response = await fetch(`https://ipapi.co/${targetIp}/json/`);
                const data = await response.json();
                if(!data.error) {
                    updateAllUIComponents(data);
                }
            } catch (err) { 
                console.error("Network lookup failed."); 
            }
        }

        async function detectMyIP() {
            try {
                const res = await fetch('https://api.ipify.org?format=json');
                const v4 = await res.json();
                const info = await (await fetch(`https://ipapi.co/${v4.ip}/json/`)).json();
                updateAllUIComponents(info);
            } catch (e) { console.error('Main IP detection failed.'); }
        }

        async function detectIPv6() {
            try {
                const res6 = await fetch('https://api6.ipify.org?format=json');
                const data6 = await res6.json();
                if(data6.ip.includes(':')) {
                    const el = document.getElementById('ipv6-display');
                    el.innerText = data6.ip;
                    el.classList.replace('text-slate-600', 'text-purple-400');
                }
            } catch (e) {}
        }

        async function runWebRTCScan() {
            const display = document.getElementById('webrtc-ips');
            const detectedIps = new Set();
            const servers = { iceServers: [{ urls: "stun:stun.l.google.com:19302" }] };

            try {
                const pc = new RTCPeerConnection(servers);
                pc.createDataChannel("");
                pc.onicecandidate = (e) => {
                    if (e.candidate) {
                        const ipRegex = /([0-9a-f]{1,4}(:[0-9a-f]{1,4}){7}|[0-9]{1,3}(\.[0-9]{1,3}){3})/gi;
                        const found = e.candidate.candidate.match(ipRegex);
                        if (found) found.forEach(ip => {
                            if (!detectedIps.has(ip)) {
                                detectedIps.add(ip);
                                renderWebRTC(detectedIps);
                            }
                        });
                    }
                };
                const offer = await pc.createOffer();
                await pc.setLocalDescription(offer);
                setTimeout(() => { 
                    if(detectedIps.size === 0) {
                        display.innerHTML = '<span class="text-green-400 text-[10px]">Secure (No leak detected)</span>';
                    }
                }, 4000);
            } catch (err) { 
                display.innerHTML = '<span class="text-red-400 text-[10px]">WebRTC Blocked</span>'; 
            }
        }

        function renderWebRTC(ipSet) {
            const display = document.getElementById('webrtc-ips');
            display.innerHTML = '';
            ipSet.forEach(ip => {
                const badge = document.createElement('span');
                badge.className = 'webrtc-tag font-mono';
                badge.innerText = ip;
                display.appendChild(badge);
            });
        }

        function copyContent(id) {
            const text = document.getElementById(id).innerText;
            const el = document.createElement('textarea');
            el.value = text;
            document.body.appendChild(el);
            el.select();
            document.execCommand('copy');
            document.body.removeChild(el);
        }

        function initSequence() {
            detectMyIP();
            detectIPv6();
            runWebRTCScan();
        }

        document.getElementById('ip-search-input').addEventListener('keypress', (e) => { if (e.key === 'Enter') performLookup(); });
        window.onload = initSequence;
    </script>
</body>
</html>
