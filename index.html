<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Schema.org JSON-LD (SEO Invis√≠vel) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": ["SoftwareApplication", "WebApplication"],
      "name": "CheckMyIP.Today",
      "applicationCategory": "UtilitiesApplication",
      "url": "https://checkmyip.today"
    }
    </script>

    <title id="meta-title">Check My IP Today - Public IP & Network Intelligence</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Plus+Jakarta+Sans:wght@400;600;800&display=swap');
        :root { --bg-deep: #020617; --accent: #3b82f6; }
        body { font-family: 'Plus Jakarta Sans', sans-serif; background-color: var(--bg-deep); color: #f1f5f9; padding: 1rem; margin: 0; }
        .glass-card { background: rgba(15, 23, 42, 0.6); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.05); transition: all 0.3s ease; }
        .glass-card:hover { border-color: rgba(59, 130, 246, 0.3); }
        #copy-toast { display: none; position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background: #10b981; color: white; padding: 10px 20px; border-radius: 99px; font-size: 12px; font-weight: bold; z-index: 2000; }
        .prose-content h2 { font-size: 1.3rem; font-weight: 800; border-left: 4px solid #3b82f6; padding-left: 1rem; margin: 2rem 0 1rem; color: white; }
        .prose-content p { color: #94a3b8; font-size: 0.95rem; margin-bottom: 1.2rem; line-height: 1.6; }
        .edu-block { border-radius: 1.5rem; padding: 1.5rem; background: rgba(30, 41, 59, 0.3); border: 1px solid rgba(255, 255, 255, 0.03); margin-bottom: 1.5rem; }
    </style>
</head>
<body>
    <div id="copy-toast">‚úÖ REPORT COPIED</div>

    <div class="max-w-5xl mx-auto flex flex-col gap-6">
        
        <!-- Header -->
        <header class="flex flex-col md:flex-row justify-between items-center gap-4 bg-slate-900/50 p-6 rounded-3xl border border-white/5">
            <div class="cursor-pointer" onclick="location.reload()">
                <h1 class="text-2xl font-extrabold tracking-tight text-white uppercase">CHECKMYIP.<span class="text-blue-500">TODAY</span></h1>
                <p id="tagline" class="text-slate-500 text-[10px] font-mono uppercase tracking-widest">Global Network Intelligence</p>
            </div>
            <div class="flex flex-wrap items-center justify-center gap-3">
                <button onclick="location.reload()" class="bg-slate-800 hover:bg-slate-700 text-white text-[10px] font-extrabold px-4 py-2 rounded-full border border-white/10 transition-all">
                    <span id="btn-reset">MY CONNECTION</span>
                </button>
                <select id="lang-select" onchange="changeLanguage()" class="bg-slate-800 text-white text-[10px] font-bold px-4 py-2 rounded-full border border-white/10 outline-none">
                    <option value="en">ENGLISH</option>
                    <option value="pt">PORTUGU√äS</option>
                    <option value="ru">–†–£–°–°–ö–ò–ô</option>
                </select>
                <button onclick="copyPageSummary()" class="bg-blue-600 hover:bg-blue-500 text-white text-[10px] font-extrabold px-4 py-2 rounded-full transition-all">
                    <span id="btn-copy">COPY SUMMARY</span>
                </button>
            </div>
        </header>

        <!-- Main Display -->
        <main class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="glass-card p-8 rounded-3xl relative">
                <span id="label-v4-tag" class="bg-blue-500/10 text-blue-400 px-3 py-1 rounded-lg text-[10px] font-bold uppercase mb-4 inline-block">IPv4 Address</span>
                <h2 id="label-v4" class="text-slate-500 text-xs font-bold mb-1 uppercase">Public IPv4:</h2>
                <div id="ipv4-display" class="text-3xl md:text-4xl font-black text-white font-mono italic opacity-40">Detecting...</div>
            </div>
            <div class="glass-card p-8 rounded-3xl relative">
                <span id="label-v6-tag" class="bg-purple-500/10 text-purple-400 px-3 py-1 rounded-lg text-[10px] font-bold uppercase mb-4 inline-block">IPv6 Address</span>
                <h2 id="label-v6" class="text-slate-500 text-xs font-bold mb-1 uppercase">Public IPv6:</h2>
                <div id="ipv6-display" class="text-lg md:text-xl font-black font-mono text-purple-200 italic opacity-40">Detecting...</div>
            </div>
        </main>

        <!-- Geo & Provider -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="glass-card p-6 rounded-3xl border-l-4 border-l-blue-500">
                <h3 class="text-[10px] font-bold text-slate-500 uppercase mb-4" id="title-location">Location</h3>
                <div class="text-sm space-y-2">
                    <div class="flex justify-between border-b border-white/5 pb-1"><span id="label-city">City</span><span id="info-city" class="font-bold text-white uppercase italic opacity-40">...</span></div>
                    <div class="flex justify-between border-b border-white/5 pb-1"><span id="label-region">Region</span><span id="info-region" class="font-bold text-white uppercase italic opacity-40">...</span></div>
                    <div class="flex justify-between"><span id="label-country">Country</span><span id="info-country" class="font-bold text-white uppercase italic opacity-40">...</span></div>
                </div>
            </div>

            <div class="glass-card p-6 rounded-3xl border-l-4 border-l-emerald-500">
                <h3 class="text-[10px] font-bold text-slate-500 uppercase mb-4" id="title-provider">Provider Information</h3>
                <div class="flex flex-col gap-3 text-sm">
                    <div>
                        <span id="label-isp" class="text-[9px] text-slate-500 uppercase block font-bold">ISP (Internet Service Provider)</span>
                        <div id="info-isp" class="font-bold uppercase italic opacity-40 truncate text-blue-400">...</div>
                    </div>
                    <div>
                        <span id="label-org" class="text-[9px] text-slate-500 uppercase block font-bold">Organization</span>
                        <div id="info-org" class="font-bold uppercase italic opacity-40 truncate text-white">...</div>
                    </div>
                </div>
            </div>

            <div class="glass-card p-6 rounded-3xl border-l-4 border-l-orange-500">
                <h3 class="text-[10px] font-bold text-slate-500 uppercase mb-4" id="title-asn-details">ASN Details</h3>
                <div class="flex flex-col gap-3">
                    <div>
                        <span id="label-as-title" class="text-[9px] text-slate-500 uppercase block font-bold">Autonomous System</span>
                        <div id="info-asn" class="text-xl font-bold italic opacity-40 text-blue-400">...</div>
                    </div>
                    <div class="bg-black/20 p-2 rounded-lg font-mono">
                        <span id="label-terminal" class="text-[8px] text-slate-500 uppercase block">üíª Terminal Query</span>
                        <code id="info-host" class="text-[10px] text-slate-300 italic">curl checkmyip.today</code>
                    </div>
                </div>
            </div>
        </div>

        <!-- RDAP Blocks -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="glass-card p-6 rounded-3xl">
                <h4 id="title-rdap" class="text-[10px] text-slate-500 font-bold uppercase mb-4">Registry & Allocation (RDAP)</h4>
                <div class="grid grid-cols-2 gap-4 text-[11px]">
                    <div class="bg-slate-900/40 p-3 rounded-xl border border-white/5"><span id="label-reg-date" class="text-slate-500 block">Registration Date</span><span id="registry-created" class="font-bold italic opacity-40">...</span></div>
                    <div class="bg-slate-900/40 p-3 rounded-xl border border-white/5"><span id="label-last-update" class="text-slate-500 block">Last Update</span><span id="registry-updated" class="font-bold italic opacity-40">...</span></div>
                </div>
            </div>
            <div class="glass-card p-6 rounded-3xl">
                <h4 id="title-abuse" class="text-[10px] text-slate-500 font-bold uppercase mb-4">Abuse Contacts (RDAP)</h4>
                <div class="grid grid-cols-2 gap-4 text-[11px]">
                    <div class="bg-slate-900/40 p-3 rounded-xl border border-white/5 truncate"><span id="label-support" class="text-slate-500 block">Support Email</span><span id="registry-email" class="font-bold italic opacity-40 text-blue-400">...</span></div>
                    <div class="bg-slate-900/40 p-3 rounded-xl border border-white/5 truncate"><span id="label-abuse-email" class="text-slate-500 block">Abuse Email</span><span id="registry-abuse" class="font-bold italic opacity-40 text-red-400">...</span></div>
                </div>
            </div>
        </div>

        <!-- Search Section -->
        <section class="glass-card p-8 rounded-3xl">
            <div class="flex flex-col md:flex-row justify-between gap-6">
                <div>
                    <h2 class="text-lg font-bold">üîç <span id="title-search">Network Details</span></h2>
                    <p id="sub-search" class="text-slate-500 text-xs">Query ASN and WHOIS for any IP Address.</p>
                </div>
                <div class="flex bg-black/40 border border-white/10 rounded-2xl overflow-hidden focus-within:border-blue-500">
                    <input type="text" id="ip-lookup-input" placeholder="8.8.8.8" class="bg-transparent px-4 py-2 text-sm outline-none w-48 font-mono text-white">
                    <button onclick="manualLookup()" class="bg-blue-600 px-6 hover:bg-blue-500 transition-all"><i class="fas fa-search"></i></button>
                </div>
            </div>
        </section>

        <!-- Dynamic Educational Content -->
        <div id="edu-container" class="prose-content">
            <!-- Injected by JS -->
        </div>

        <footer class="mt-8 mb-12 py-8 border-t border-white/5 text-center">
            <div class="text-[10px] font-mono text-slate-600 uppercase tracking-widest">
                &copy; 2024 CheckMyIP.Today ‚Ä¢ <span id="footer-tag">Global Network Intelligence Tool</span>
            </div>
        </footer>
    </div>

    <script>
        const translations = {
            en: { 
                tagline: "Global Network Intelligence", btnCopy: "COPY SUMMARY", btnReset: "MY CONNECTION", ipv4: "Public IPv4:", ipv6: "Public IPv6:", location: "Location", city: "City", region: "Region", country: "Country", provider: "Provider Information", isp: "ISP (Internet Service Provider)", org: "Organization", search: "Network Details", subSearch: "Query ASN and WHOIS for any IP Address.", terminal: "üíª Terminal Query", footer: "Global Network Intelligence Tool", toast: "‚úÖ REPORT COPIED", rdap: "Registry & Allocation (RDAP)", abuse: "Abuse Contacts (RDAP)", regDate: "Registration Date", lastUpdate: "Last Update", support: "Support Email", abuseEmail: "Abuse Email", asnDetails: "ASN Details", asTitle: "Autonomous System",
                edu: [
                    { h: "How Geolocation Works", p: "IP Geolocation maps your connection to a physical spot via ISP databases. It's accurate for countries but can vary for cities." },
                    { h: "IPv4 vs IPv6", p: "IPv4 is the classic 32-bit standard. IPv6 is the 128-bit future, offering trillions of unique addresses for all devices." },
                    { h: "What is an ASN?", p: "Autonomous System Numbers identify large networks (like Google or Comcast) that control the routing of IP blocks." },
                    { h: "Public vs Private IP", p: "Public IPs are your face to the world; Private IPs are your local identity inside your home or office network." },
                    { h: "ISP vs Organization", p: "Your ISP provides the service; the Organization is the entity that owns and registers the actual IP range." },
                    { h: "RDAP Protocol", p: "RDAP is the modern, structured replacement for WHOIS, providing machine-readable contact and registration data." },
                    { h: "Privacy and Safety", p: "Using a VPN or proxy helps mask your real IP address, preventing trackers from pinpointing your location." },
                    { h: "About CheckMyIP.Today", p: "CheckMyIP.Today provides instant, programmatic network intelligence. Learn about your connectivity signature." },
                    { h: "Key Features", p: "Local vs. Public IP, What is an IP Address?, and advanced RDAP data extraction." },
                    { h: "Alternative Trusted Checkers", p: "IPinfo.io, icanhazip.com, WhatIsMyIP.com." }
                ]
            },
            pt: { 
                tagline: "Intelig√™ncia de Rede Global", btnCopy: "COPIAR RESUMO", btnReset: "MINHA CONEX√ÉO", ipv4: "IPv4 P√∫blico:", ipv6: "IPv6 P√∫blico:", location: "Localiza√ß√£o", city: "Cidade", region: "Regi√£o", country: "Pa√≠s", provider: "Informa√ß√µes do Provedor", isp: "ISP (Internet Service Provider)", org: "Organiza√ß√£o", search: "Detalhes de Rede", subSearch: "Consulte ASN e WHOIS para qualquer IP.", terminal: "üíª Terminal Query", footer: "Ferramenta de Intelig√™ncia de Rede Global", toast: "‚úÖ RELAT√ìRIO COPIADO", rdap: "Registro (RDAP)", abuse: "Contatos de Abuso (RDAP)", regDate: "Data de Registro", lastUpdate: "√öltima Atualiza√ß√£o", support: "Email de Suporte", abuseEmail: "Email de Abuso", asnDetails: "Detalhes do ASN", asTitle: "Sistema Aut√≥nomo",
                edu: [
                    { h: "Como funciona a geolocaliza√ß√£o", p: "A geolocaliza√ß√£o de IP mapeia sua conex√£o para um local f√≠sico via bancos de dados do ISP. √â precisa para pa√≠ses, mas pode variar para cidades." },
                    { h: "IPv4 vs IPv6", p: "O IPv4 √© o padr√£o cl√°ssico de 32 bits. O IPv6 √© o futuro de 128 bits, oferecendo trilh√µes de endere√ßos exclusivos." },
                    { h: "O que √© um ASN?", p: "Os n√∫meros de sistemas aut√¥nomos identificam grandes redes (como Google ou Comcast) que controlam o roteamento de blocos de IP." },
                    { h: "IP P√∫blico vs Privado", p: "IPs p√∫blicos s√£o sua face para o mundo; IPs privados s√£o sua identidade local dentro de sua casa ou escrit√≥rio." },
                    { h: "ISP vs Organiza√ß√£o", p: "Seu ISP fornece o servi√ßo; a Organiza√ß√£o √© a entidade que possui e registra a faixa de IP real." },
                    { h: "Protocolo RDAP", p: "O RDAP √© o substituto moderno e estruturado do WHOIS, fornecendo dados de contato leg√≠veis por m√°quina." },
                    { h: "Privacidade e Seguran√ßa", p: "Usar uma VPN ou proxy ajuda a mascarar seu IP real, impedindo que rastreadores localizem sua localiza√ß√£o exata." },
                    { h: "Sobre o CheckMyIP.Today", p: "CheckMyIP.Today fornece intelig√™ncia de rede instant√¢nea. Saiba tudo sobre sua assinatura de conectividade." },
                    { h: "Recursos Principais", p: "IP Local vs. P√∫blico, O que √© um endere√ßo IP?, e extra√ß√£o avan√ßada de dados RDAP." },
                    { h: "Verificadores Alternativos", p: "IPinfo.io, icanhazip.com, WhatIsMyIP.com." }
                ]
            },
            ru: { 
                tagline: "–ì–ª–æ–±–∞–ª—å–Ω–∞—è —Å–µ—Ç–µ–≤–∞—è —Ä–∞–∑–≤–µ–¥–∫–∞", btnCopy: "–ö–û–ü–ò–†–û–í–ê–¢–¨", btnReset: "–ú–û–ï –°–û–ï–î–ò–ù–ï–ù–ò–ï", ipv4: "–ü—É–±–ª–∏—á–Ω—ã–π IPv4:", ipv6: "–ü—É–±–ª–∏—á–Ω—ã–π IPv6:", location: "–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ", city: "–ì–æ—Ä–æ–¥", region: "–†–µ–≥–∏–æ–Ω", country: "–°—Ç—Ä–∞–Ω–∞", provider: "–ü—Ä–æ–≤–∞–π–¥–µ—Ä", isp: "ISP (Internet Service Provider)", org: "–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è", search: "–°–µ—Ç–µ–≤—ã–µ –¥–µ—Ç–∞–ª–∏", subSearch: "–ó–∞–ø—Ä–æ—Å ASN –∏ WHOIS.", terminal: "üíª Terminal Query", footer: "–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å–µ—Ç–µ–≤–æ–π —Ä–∞–∑–≤–µ–¥–∫–∏", toast: "‚úÖ –û–¢–ß–ï–¢ –°–ö–û–ü–ò–†–û–í–ê–ù", rdap: "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (RDAP)", abuse: "–ê–±—É–∑-–∫–æ–Ω—Ç–∞–∫—Ç—ã (RDAP)", regDate: "–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏", lastUpdate: "–û–±–Ω–æ–≤–ª–µ–Ω–æ", support: "Email –ü–æ–¥–¥–µ—Ä–∂–∫–∏", abuseEmail: "Email –ñ–∞–ª–æ–±", asnDetails: "–î–µ—Ç–∞–ª–∏ ASN", asTitle: "–ê–≤—Ç–æ–Ω–æ–º–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞",
                edu: [
                    { h: "–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è", p: "IP-–≥–µ–æ–ª–æ–∫–∞—Ü–∏—è —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–∞—à–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å —Ñ–∏–∑–∏—á–µ—Å–∫–∏–º –º–µ—Å—Ç–æ–º —á–µ—Ä–µ–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤. –¢–æ—á–Ω–∞ –¥–ª—è —Å—Ç—Ä–∞–Ω, –Ω–æ –º–æ–∂–µ—Ç –≤–∞—Ä—å–∏—Ä–æ–≤–∞—Ç—å—Å—è –¥–ª—è –≥–æ—Ä–æ–¥–æ–≤." },
                    { h: "IPv4 –ø—Ä–æ—Ç–∏–≤ IPv6", p: "IPv4 ‚Äî –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π 32-–±–∏—Ç–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç. IPv6 ‚Äî 128-–±–∏—Ç–Ω–æ–µ –±—É–¥—É—â–µ–µ —Å —Ç—Ä–∏–ª–ª–∏–æ–Ω–∞–º–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤." },
                    { h: "–ß—Ç–æ —Ç–∞–∫–æ–µ ASN?", p: "–ù–æ–º–µ—Ä–∞ –∞–≤—Ç–æ–Ω–æ–º–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç –∫—Ä—É–ø–Ω—ã–µ —Å–µ—Ç–∏ (Google, Comcast), —É–ø—Ä–∞–≤–ª—è—é—â–∏–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–µ–π IP-–±–ª–æ–∫–æ–≤." },
                    { h: "–ü—É–±–ª–∏—á–Ω—ã–π –ø—Ä–æ—Ç–∏–≤ –ß–∞—Å—Ç–Ω–æ–≥–æ IP", p: "–ü—É–±–ª–∏—á–Ω—ã–µ IP ‚Äî —ç—Ç–æ –≤–∞—à–µ –ª–∏—Ü–æ –≤ –º–∏—Ä–µ; —á–∞—Å—Ç–Ω—ã–µ IP ‚Äî –≤–∞—à–∞ –ª–æ–∫–∞–ª—å–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å –≤ —Å–µ—Ç–∏." },
                    { h: "–ü—Ä–æ–≤–∞–π–¥–µ—Ä –ø—Ä–æ—Ç–∏–≤ –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏", p: "ISP –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É—Å–ª—É–≥–∏; –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è ‚Äî —ç—Ç–æ –≤–ª–∞–¥–µ–ª–µ—Ü, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–≤—à–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω IP." },
                    { h: "–ü—Ä–æ—Ç–æ–∫–æ–ª RDAP", p: "RDAP ‚Äî —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞–º–µ–Ω–∞ WHOIS, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏." },
                    { h: "–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å –∏ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å", p: "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ VPN –∏–ª–∏ –ø—Ä–æ–∫—Å–∏ —Å–∫—Ä—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π IP, –º–µ—à–∞—è —Ç—Ä–µ–∫–µ—Ä–∞–º –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –≤–∞—à–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ." },
                    { h: "–û CheckMyIP.Today", p: "CheckMyIP.Today –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω—É—é —Å–µ—Ç–µ–≤—É—é —Ä–∞–∑–≤–µ–¥–∫—É. –£–∑–Ω–∞–π—Ç–µ –≤—Å—ë –æ —Å–≤–æ–µ–π —Å–≤—è–∑–∏." },
                    { h: "–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏", p: "–õ–æ–∫–∞–ª—å–Ω—ã–π vs –ü—É–±–ª–∏—á–Ω—ã–π IP, —á—Ç–æ —Ç–∞–∫–æ–µ IP-–∞–¥—Ä–µ—Å, –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ RDAP." },
                    { h: "–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã", p: "IPinfo.io, icanhazip.com, WhatIsMyIP.com." }
                ]
            }
        };

        let currentLang = 'en';

        function setField(id, val) {
            const el = document.getElementById(id);
            if (!el) return;
            el.innerText = val && val !== "undefined" && val !== "null" && val !== "" ? val : "N/A";
            el.classList.remove('opacity-40', 'italic');
        }

        async function fetchGeo(ip) {
            const apis = [
                () => fetch(`https://ipapi.co/${ip}/json/`).then(r => r.json()),
                () => fetch(`https://ip-api.com/json/${ip}?fields=status,country,regionName,city,isp,org,as`).then(r => r.json()),
                () => fetch(`https://ipwho.is/${ip}`).then(r => r.json())
            ];

            for(const api of apis) {
                try {
                    const d = await api();
                    if(d.status === "success" || !d.error || d.success) {
                        setField('info-city', d.city || d.city_name);
                        setField('info-region', d.regionName || d.region || d.region_name);
                        setField('info-country', d.country || d.country_name);
                        setField('info-isp', d.isp || d.org || d.connection?.isp);
                        setField('info-org', d.org || d.connection?.org || d.org);
                        setField('info-asn', d.as || d.asn || (d.connection?.asn ? `AS${d.connection.asn}` : ""));
                        return true;
                    }
                } catch(e) { console.warn("API Switch triggered..."); }
            }
            return false;
        }

        async function fetchRDAP(ip) {
            try {
                const res = await fetch(`https://rdap.db.ripe.net/ip/${ip}`);
                if(!res.ok) throw new Error();
                const d = await res.json();
                const evts = d.events || [];
                setField('registry-created', (evts.find(e => e.eventAction==='registration')?.eventDate || "").split('T')[0]);
                setField('registry-updated', (evts.find(e => e.eventAction==='last changed')?.eventDate || "").split('T')[0]);
                let ab = "N/A", sp = "N/A";
                const scan = (ents) => ents?.forEach(e => {
                    const v = e.vcardArray?.[1];
                    const mail = v?.find(x => x[0]==='email')?.[3];
                    if(mail) e.roles?.includes('abuse') ? ab=mail : sp=mail;
                    if(e.entities) scan(e.entities);
                });
                scan(d.entities);
                setField('registry-email', sp); setField('registry-abuse', ab);
            } catch(e) {
                setField('registry-created', "N/A"); setField('registry-updated', "N/A");
                setField('registry-email', "N/A"); setField('registry-abuse', "N/A");
            }
        }

        async function lookup(ip) {
            setField('ipv4-display', ip);
            document.getElementById('info-host').innerText = `curl checkmyip.today/${ip}`;
            ['info-city', 'info-region', 'info-country', 'info-isp', 'info-org', 'info-asn'].forEach(id => {
                document.getElementById(id).innerText = "...";
                document.getElementById(id).classList.add('opacity-40', 'italic');
            });
            await Promise.all([fetchGeo(ip), fetchRDAP(ip)]);
        }

        async function init() {
            changeLanguage();
            try {
                // Tenta pegar IP principal
                const r = await fetch('https://api.ipify.org?format=json');
                const d = await r.json();
                lookup(d.ip);
                
                // Busca IPv6 em background
                fetch('https://api64.ipify.org?format=json')
                    .then(r=>r.json())
                    .then(v6 => {
                        setField('ipv6-display', v6.ip.includes(':') ? v6.ip : "NOT DETECTED");
                    })
                    .catch(() => setField('ipv6-display', "NOT DETECTED"));
            } catch(e) { 
                setField('ipv4-display', "OFFLINE"); 
            }
        }

        function manualLookup() {
            const ip = document.getElementById('ip-lookup-input').value.trim();
            if(/^(?:[0-9]{1,3}\.){3}[0-9]{1,3}$|^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$/.test(ip)) lookup(ip);
        }

        function changeLanguage() {
            currentLang = document.getElementById('lang-select').value;
            const t = translations[currentLang];
            
            // Tradu√ß√£o de Meta-labels
            Object.keys(t).forEach(k => {
                if(k === 'edu') return;
                const el = document.getElementById(k) || document.getElementById(`label-${k}`) || document.getElementById(`title-${k}`);
                if(el) el.innerText = t[k];
            });

            // Atualiza√ß√£o dos Blocos Educacionais
            const container = document.getElementById('edu-container');
            container.innerHTML = t.edu.map(item => `
                <div class="edu-block">
                    <h2>${item.h}</h2>
                    <p>${item.p}</p>
                </div>
            `).join('');
        }

        function copyPageSummary() {
            const val = (id) => document.getElementById(id).innerText;
            const s = `CheckMyIP.Today Report\nIP: ${val('ipv4-display')}\nASN: ${val('info-asn')}\nISP: ${val('info-isp')}\nLoc: ${val('info-city')}, ${val('info-region')}, ${val('info-country')}`;
            
            const area = document.createElement('textarea');
            area.value = s;
            document.body.appendChild(area);
            area.select();
            document.execCommand('copy');
            document.body.removeChild(area);

            const toast = document.getElementById('copy-toast');
            toast.style.display = 'block'; setTimeout(() => toast.style.display = 'none', 2000);
        }

        window.onload = init;
    </script>
</body>
</html>
