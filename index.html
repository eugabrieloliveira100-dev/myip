<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO & Dynamic Meta Tags -->
    <title id="meta-title">Check My IP Today - IPv4, IPv6 & Network Intelligence</title>
    <meta name="description" id="meta-desc" content="Detect your public IPv4 and IPv6 addresses instantly. Get ISP details, ASN, and official RDAP/WHOIS records.">
    
    <!-- SEO Internacional: Hreflang Tags -->
    <link rel="alternate" hreflang="x-default" href="https://checkmyip.today/" />
    <link rel="alternate" hreflang="en" href="https://checkmyip.today/" />
    <link rel="alternate" hreflang="pt" href="https://checkmyip.today/pt/" />
    <link rel="alternate" hreflang="ru" href="https://checkmyip.today/ru/" />
    <link rel="alternate" hreflang="tr" href="https://checkmyip.today/tr/" />
    <link rel="alternate" hreflang="hi" href="https://checkmyip.today/hi/" />
    <link rel="alternate" hreflang="id" href="https://checkmyip.today/id/" />
    <link rel="alternate" hreflang="vi" href="https://checkmyip.today/vi/" />

    <!-- CSS CR√çTICO -->
    <style>
        :root { --bg-deep: #020617; }
        html { background-color: #020617; }
        body { 
            background-color: #020617; 
            color: #f1f5f9; 
            margin: 0; 
            font-family: system-ui, -apple-system, sans-serif;
            opacity: 0; 
            transition: opacity 0.4s ease-in;
        }
        .ready { opacity: 1 !important; }
        .glass-card { background: rgba(15, 23, 42, 0.6); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.08); }
        .loading-pulse { animation: pulse 1.5s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .5; } }
        .ipv6-text-wrap { word-break: break-word; overflow-wrap: anywhere; line-height: 1.4; display: block; width: 100%; }
        .truncate-custom { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    </style>

    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Schema.org -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "CheckMyIP.Today",
      "url": "https://checkmyip.today",
      "description": "Professional tool for IP address detection and network forensics.",
      "applicationCategory": "NetworkingTool",
      "operatingSystem": "All"
    }
    </script>
</head>
<body id="main-body">
    <div id="copy-toast" class="hidden fixed top-5 left-1/2 -translate-x-1/2 bg-emerald-500 text-white px-6 py-2 rounded-full font-bold z-50 shadow-lg uppercase text-[10px]">‚úÖ Report Copied</div>

    <div class="max-w-5xl mx-auto p-4 md:p-6 flex flex-col gap-6">
        <!-- Header -->
        <header class="flex flex-col md:flex-row justify-between items-center gap-4 bg-slate-900/50 p-6 rounded-3xl border border-white/5">
            <div onclick="location.href='/'" class="cursor-pointer">
                <h1 class="text-2xl font-extrabold text-white italic">CHECKMYIP.<span class="text-blue-500 text-[10px] align-top">TODAY</span></h1>
                <p id="tagline" class="text-slate-500 text-[10px] font-mono uppercase tracking-widest">Global Network Intelligence</p>
            </div>
            <nav class="flex flex-wrap items-center justify-center gap-3">
                <button onclick="location.reload()" class="bg-slate-800 text-white text-[10px] font-extrabold px-4 py-2 rounded-full border border-white/10 hover:bg-slate-700 transition-colors">
                    <span id="btn-reset">MY CONNECTION</span>
                </button>
                <select id="lang-select" onchange="manualLanguageChange()" class="bg-slate-800 text-white text-[10px] font-bold px-4 py-2 rounded-full border border-white/10 outline-none cursor-pointer">
                    <option value="en">ENGLISH</option>
                    <option value="pt">PORTUGU√äS</option>
                    <option value="ru">–†–£–°–°–ö–ò–ô</option>
                    <option value="tr">T√úRK√áE</option>
                    <option value="id">BAHASA INDONESIA</option>
                    <option value="vi">TI·∫æNG VI·ªÜT</option>
                    <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
                </select>
                <button onclick="copyPageSummary()" class="bg-blue-600 text-white text-[10px] font-extrabold px-4 py-2 rounded-full hover:bg-blue-500 transition-colors">
                    <span id="btn-copy">COPY SUMMARY</span>
                </button>
            </nav>
        </header>

        <!-- Main Content (IPs) -->
        <main class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <section class="glass-card p-8 rounded-3xl relative overflow-hidden">
                <div class="absolute top-0 right-0 p-4 opacity-10 text-6xl font-black italic">v4</div>
                <span id="label-v4-tag" class="bg-blue-500/10 text-blue-400 px-3 py-1 rounded-lg text-[10px] font-bold uppercase mb-4 inline-block italic">IPv4 Address</span>
                <h2 id="label-v4" class="text-slate-500 text-xs font-bold mb-1 uppercase italic font-mono">Your Public IP Address:</h2>
                <div id="ipv4-display" class="text-3xl md:text-4xl font-black text-white font-mono min-h-[3rem] flex items-center italic loading-pulse">...</div>
            </section>
            
            <section class="glass-card p-8 rounded-3xl relative overflow-hidden">
                <div class="absolute top-0 right-0 p-4 opacity-10 text-6xl font-black italic">v6</div>
                <span id="label-v6-tag" class="bg-purple-500/10 text-purple-400 px-3 py-1 rounded-lg text-[10px] font-bold uppercase mb-4 inline-block italic">IPv6 Address</span>
                <h2 id="label-v6" class="text-slate-500 text-xs font-bold mb-1 uppercase italic font-mono">Your IPv6 Connectivity:</h2>
                <div id="ipv6-display" class="ipv6-text-wrap text-lg md:text-xl font-black font-mono text-purple-200 min-h-[3rem] flex items-center italic loading-pulse">...</div>
            </section>
        </main>

        <!-- Location, ISP & ASN -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="glass-card p-6 rounded-3xl border-l-4 border-l-blue-500 flex flex-col">
                <h3 id="title-location" class="text-[10px] font-bold text-slate-500 uppercase mb-4 italic">Location</h3>
                <div class="text-sm space-y-2 font-mono italic text-[11px] mb-4">
                    <div class="flex justify-between border-b border-white/5 pb-1">
                        <span id="label-city">City</span><span id="info-city" class="text-blue-400 font-bold italic">...</span>
                    </div>
                    <div class="flex justify-between border-b border-white/5 pb-1">
                        <span id="label-region">Region</span><span id="info-region" class="text-slate-200 italic">...</span>
                    </div>
                    <div class="flex justify-between">
                        <span id="label-country">Country</span><span id="info-country" class="text-slate-200 italic">...</span>
                    </div>
                </div>
                <p id="note-location" class="text-xs text-white leading-tight italic mt-auto">Note: Geolocation is based on network registry and ISP databases.</p>
            </div>

            <div class="glass-card p-6 rounded-3xl border-l-4 border-l-emerald-500">
                <h3 id="title-provider" class="text-[10px] font-bold text-slate-500 uppercase mb-4 italic">Provider Information</h3>
                <div class="flex flex-col gap-3 text-sm italic font-mono text-[11px]">
                    <div>
                        <span id="label-isp" class="text-[9px] text-slate-500 uppercase block font-bold italic">ISP (Internet Service Provider)</span>
                        <div id="info-isp" class="text-blue-400 font-bold truncate">...</div>
                    </div>
                    <div>
                        <span id="label-org" class="text-[9px] text-slate-500 uppercase block font-bold italic">Organization</span>
                        <div id="info-org" class="text-white truncate">...</div>
                    </div>
                </div>
            </div>

            <div class="glass-card p-6 rounded-3xl border-l-4 border-l-orange-500">
                <h3 id="title-asn-details" class="text-[10px] font-bold text-slate-500 uppercase mb-4 italic">ASN & Routing</h3>
                <div class="flex flex-col gap-3 text-sm italic font-mono text-[11px]">
                    <div>
                        <span id="label-as-title" class="text-[9px] text-slate-500 uppercase block font-bold italic">Autonomous System Number</span>
                        <div id="info-asn" class="text-blue-400 font-bold">...</div>
                    </div>
                    <div class="bg-black/20 p-2 rounded-lg">
                        <span id="label-terminal" class="text-[8px] text-slate-500 uppercase block font-bold italic">üíª Terminal Query</span>
                        <code class="text-[10px] text-slate-300">curl checkmyip.today</code>
                    </div>
                </div>
            </div>
        </div>

        <!-- RDAP & Abuse Info -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="glass-card p-6 rounded-3xl">
                <h3 id="title-rdap" class="text-[10px] text-slate-500 font-bold uppercase mb-4 italic">Registry & Allocation (RDAP)</h3>
                <div class="grid grid-cols-2 gap-4 text-[11px]">
                    <div class="bg-slate-900/40 p-3 rounded-xl border border-white/5">
                        <span id="label-reg-date" class="text-slate-500 block font-bold uppercase italic">Registration Date</span>
                        <span id="registry-created" class="text-white font-mono italic">...</span>
                    </div>
                    <div class="bg-slate-900/40 p-3 rounded-xl border border-white/5">
                        <span id="label-last-update" class="text-slate-500 block font-bold uppercase italic">Last Update</span>
                        <span id="registry-updated" class="text-white font-mono italic">...</span>
                    </div>
                </div>
            </div>
            <div class="glass-card p-6 rounded-3xl">
                <h3 id="title-abuse" class="text-[10px] text-slate-500 font-bold uppercase mb-4 italic">Abuse Contacts (RDAP)</h3>
                <div class="grid grid-cols-2 gap-4 text-[11px]">
                    <div class="bg-slate-900/40 p-3 rounded-xl border border-white/5 truncate-custom">
                        <span id="label-support" class="text-slate-500 block font-bold uppercase italic">Support Email</span>
                        <span id="registry-email" class="text-blue-400 italic">...</span>
                    </div>
                    <div class="bg-slate-900/40 p-3 rounded-xl border border-white/5 truncate-custom">
                        <span id="label-abuse-email" class="text-slate-500 block font-bold uppercase italic">Abuse Email</span>
                        <span id="registry-abuse" class="text-red-400 italic font-bold">...</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- IP Lookup Section -->
        <section class="glass-card p-8 rounded-3xl">
            <div class="flex flex-col md:flex-row justify-between items-center gap-6">
                <div>
                    <h2 class="text-lg font-bold italic">üîç <span id="title-search">Network Details</span></h2>
                    <p id="sub-search" class="text-slate-500 text-xs font-mono italic">Query ASN and WHOIS for any IP.</p>
                </div>
                <form onsubmit="event.preventDefault(); manualLookup();" class="flex w-full md:w-auto bg-black/40 border border-white/10 rounded-2xl overflow-hidden focus-within:ring-2 focus-within:ring-blue-500">
                    <input type="text" id="ip-lookup-input" placeholder="8.8.8.8" class="bg-transparent px-4 py-2 text-sm outline-none flex-grow font-mono text-white min-w-[200px]">
                    <button type="submit" class="bg-blue-600 px-6 py-2 hover:bg-blue-500 text-white font-bold text-xs uppercase italic">Search</button>
                </form>
            </div>
        </section>

        <!-- Educational Content -->
        <article id="edu-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
            <!-- JS Populated -->
        </article>

        <footer class="py-12 border-t border-white/5 text-center">
            <p class="text-[10px] font-mono text-slate-600 uppercase tracking-widest italic">&copy; 2024 CheckMyIP.Today ‚Ä¢ Professional Network Forensics</p>
        </footer>
    </div>

    <script>
        // Vari√°vel de controle global para persist√™ncia de idioma
        // Se a Worker da Cloudflare injetar forceLang, ela domina
        window.manualLang = window.forceLang ? true : false;

        const translations = {
            en: { 
                tagline: "Global Network Intelligence", btnCopy: "COPY SUMMARY", btnReset: "MY CONNECTION", ipv4: "Your Public IP Address:", ipv6: "Your IPv6 Connectivity:", location: "Location", city: "City", region: "Region", country: "Country", noteLocation: "Important Note: The geographic location displayed is based on the official registry of the IP owner (ISP). This info represents the network termination point and may not match your exact GPS location, serving as an infrastructure technical reference.", provider: "Provider Information", isp: "ISP (Internet Service Provider)", org: "Organization", search: "Network Details", subSearch: "Query ASN and WHOIS for any IP.", terminal: "üíª Terminal Query", toast: "‚úÖ REPORT COPIED", rdap: "Registry & Allocation (RDAP)", abuse: "Abuse Contacts (RDAP)", regDate: "Registration Date", lastUpdate: "Last Update", support: "Support Email", abuseEmail: "Abuse Email", asnDetails: "ASN & Routing", asTitle: "Autonomous System Number",
                ipv6Query: "QUERY: IPv6 is incompatible with IPv4",
                edu: [
                    { h: "What is an IP Address?", p: "An IP address is a unique identifier for devices on a network, allowing data to be sent via the Internet Protocol." },
                    { h: "About CheckMyIP.Today", p: "We provide instant forensics on your network connection, including geolocation and official RDAP records." },
                    { h: "Key Features", p: "Real-time dual-stack detection (IPv4/IPv6), ASN routing analysis, and WHOIS database integration." },
                    { h: "Local vs Public IP", p: "Your Public IP is your web identity, while your Local IP (LAN) is restricted to your private home/office network." },
                    { h: "How Geo-location Works", p: "Technology maps your digital connection to a physical spot via ISP databases and network node mapping." },
                    { h: "Alternative Checkers", p: "Trusted standards include IPinfo.io, icanhazip.com and Google's built-in IP tools." }
                ]
            },
            pt: { 
                tagline: "Intelig√™ncia de Rede Global", btnCopy: "COPIAR RESUMO", btnReset: "MINHA CONEX√ÉO", ipv4: "Seu IP P√∫blico:", ipv6: "Conectividade IPv6:", location: "Localiza√ß√£o", city: "Cidade", region: "Regi√£o", country: "Pa√≠s", noteLocation: "Nota Importante: A localiza√ß√£o geogr√°fica exibida √© baseada no registro oficial do propriet√°rio do bloco de IP (ISP). Esta informa√ß√£o representa o ponto de termina√ß√£o da rede e pode n√£o coincidir com a sua localiza√ß√£o GPS exata, servindo como uma refer√™ncia t√©cnica de infraestrutura.", provider: "Informa√ß√£o do Provedor", isp: "ISP (Provedor de Internet)", org: "Organiza√ß√£o", search: "Detalhes de Rede", subSearch: "Consulte ASN e WHOIS para qualquer IP.", terminal: "üíª Terminal Query", toast: "‚úÖ RELAT√ìRIO COPIADO", rdap: "Registro e Aloca√ß√£o (RDAP)", abuse: "Contatos de Abuso (RDAP)", regDate: "Data de Registro", lastUpdate: "√öltima Atualiza√ß√£o", support: "Email Suporte", abuseEmail: "Email Abuso", asnDetails: "ASN e Roteamento", asTitle: "N√∫mero do Sistema Aut√¥nomo",
                ipv6Query: "QUERY: O IPv6 √© incompat√≠vel com o IPv4",
                edu: [
                    { h: "O que √© um Endere√ßo IP?", p: "Um endere√ßo IP √© um identificador √∫nico para dispositivos em uma rede, permitindo a comunica√ß√£o via Internet Protocol." },
                    { h: "Sobre o CheckMyIP.Today", p: "Fornecemos an√°lise instant√¢nea da sua conex√£o, incluindo geolocaliza√ß√£o precisa e registros oficiais RDAP." },
                    { h: "Principais Recursos", p: "Detec√ß√£o de IPv4/IPv6, an√°lise de roteamento ASN e integra√ß√£o com bancos de dados WHOIS globais." },
                    { h: "IP Local vs. P√∫blico", p: "Seu IP P√∫blico √© sua identidade na web, enquanto o IP Local (LAN) √© restrito √† sua rede interna privada." },
                    { h: "Como funciona a Geolocaliza√ß√£o", p: "A tecnologia mapeia sua conex√£o digital para um local f√≠sico via bancos de dados de provedores (ISP)." },
                    { h: "Verificadores Alternativos", p: "Padr√µes confi√°veis incluem IPinfo.io, icanhazip.com e as ferramentas de IP do Google." }
                ]
            },
            ru: {
                tagline: "–ì–ª–æ–±–∞–ª—å–Ω–∞—è —Å–µ—Ç–µ–≤–∞—è —Ä–∞–∑–≤–µ–¥–∫–∞", btnCopy: "–ö–û–ü–ò–†–û–í–ê–¢–¨ –û–¢–ß–ï–¢", btnReset: "–ú–û–ï –°–û–ï–î–ò–ù–ï–ù–ò–ï", ipv4: "–í–∞—à IPv4 –∞–¥—Ä–µ—Å:", ipv6: "–í–∞—à IPv6 —Å—Ç–∞—Ç—É—Å:", location: "–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è", city: "–ì–æ—Ä–æ–¥", region: "–†–µ–≥–∏–æ–Ω", country: "–°—Ç—Ä–∞–Ω–∞", noteLocation: "–í–∞–∂–Ω–æ–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ —Ä–µ–µ—Å—Ç—Ä–µ ISP. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —è–≤–ª—è–µ—Ç—Å—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π —Å–ø—Ä–∞–≤–∫–æ–π –∏ –º–æ–∂–µ—Ç –Ω–µ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å GPS.", provider: "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–µ", isp: "ISP (–ü—Ä–æ–≤–∞–π–¥–µ—Ä)", org: "–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è", search: "–°–µ—Ç–µ–≤—ã–µ –¥–µ—Ç–∞–ª–∏", subSearch: "–ó–∞–ø—Ä–æ—Å ASN –∏ WHOIS.", terminal: "üíª –¢–µ—Ä–º–∏–Ω–∞–ª", toast: "‚úÖ –û–¢–ß–ï–¢ –°–ö–û–ü–ò–†–û–í–ê–ù", rdap: "–†–µ–µ—Å—Ç—Ä (RDAP)", abuse: "–ö–æ–Ω—Ç–∞–∫—Ç—ã (RDAP)", regDate: "–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏", lastUpdate: "–û–±–Ω–æ–≤–ª–µ–Ω–æ", support: "Email –ø–æ–¥–¥–µ—Ä–∂–∫–∏", abuseEmail: "Email –∂–∞–ª–æ–±", asnDetails: "ASN –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è", asTitle: "–ù–æ–º–µ—Ä ASN",
                ipv6Query: "–ó–ê–ü–†–û–°: IPv6 –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º —Å IPv4",
                edu: [
                    { h: "–ß—Ç–æ —Ç–∞–∫–æ–µ IP?", p: "IP-–∞–¥—Ä–µ—Å ‚Äî —ç—Ç–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ —Å–µ—Ç–∏." },
                    { h: "–û CheckMyIP.Today", p: "–ú—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º –º–≥–Ω–æ–≤–µ–Ω–Ω—É—é –∫—Ä–∏–º–∏–Ω–∞–ª–∏—Å—Ç–∏–∫—É –≤–∞—à–µ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è." },
                    { h: "–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏", p: "–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ IPv4/IPv6 –∏ –∞–Ω–∞–ª–∏–∑ ASN." },
                    { h: "–õ–æ–∫–∞–ª—å–Ω—ã–π vs –ü—É–±–ª–∏—á–Ω—ã–π", p: "–ü—É–±–ª–∏—á–Ω—ã–π IP ‚Äî –≤–∞—à–∞ –ª–∏—á–Ω–æ—Å—Ç—å –≤ —Å–µ—Ç–∏." },
                    { h: "–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è", p: "–°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Ñ–∏–∑–∏—á–µ—Å–∫–∏–º –º–µ—Å—Ç–æ–º." },
                    { h: "–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã", p: "IPinfo.io, icanhazip.com –∏ Google IP tools." }
                ]
            },
            tr: {
                tagline: "K√ºresel Aƒü ƒ∞stihbaratƒ±", btnCopy: "√ñZETƒ∞ KOPYALA", btnReset: "BAƒûLANTIM", ipv4: "Genel IP Adresiniz:", ipv6: "IPv6 Baƒülantƒ±nƒ±z:", location: "Konum", city: "≈ûehir", region: "B√∂lge", country: "√úlke", noteLocation: "√ñnemli Not: Coƒürafi konum, ISP kayƒ±tlarƒ±na dayanƒ±r.", provider: "Saƒülayƒ±cƒ± Bilgileri", isp: "ISP (ƒ∞nternet Servis Saƒülayƒ±cƒ±)", org: "Organizasyon", search: "Aƒü Detaylarƒ±", subSearch: "Herhangi bir IP i√ßin ASN ve WHOIS sorgulayƒ±n.", terminal: "üíª Terminal Sorgusu", toast: "‚úÖ RAPOR KOPYALANDI", rdap: "Kayƒ±t ve Tahsis (RDAP)", abuse: "K√∂t√ºye Kullanƒ±m Ki≈üileri", regDate: "Kayƒ±t Tarihi", lastUpdate: "Son G√ºncelleme", support: "Destek E-postasƒ±", abuseEmail: "K√∂t√ºye Kullanƒ±m E-postasƒ±", asnDetails: "ASN ve Y√∂nlendirme", asTitle: "Otonom Sistem Numarasƒ±",
                ipv6Query: "SORGULAMA: IPv6, IPv4 ile uyumsuzdur",
                edu: [
                    { h: "IP Adresi Nedir?", p: "Bir IP adresi, bir aƒüdaki cihazlar i√ßin benzersiz bir tanƒ±mlayƒ±cƒ±dƒ±r." },
                    { h: "CheckMyIP.Today Hakkƒ±nda", p: "Baƒülantƒ±nƒ±z hakkƒ±nda anƒ±nda adli analiz saƒülƒ±yoruz." },
                    { h: "Temel √ñzellikler", p: "IPv4/IPv6 tespiti ve ASN analizi." },
                    { h: "Yerel vs Genel IP", p: "Genel IP'niz web kimliƒüinizdir." },
                    { h: "Coƒürafi Konum Nasƒ±l √áalƒ±≈üƒ±r?", p: "Dijital baƒülantƒ±nƒ±zƒ± fiziksel bir noktaya haritalar." },
                    { h: "Alternatif Kontrol Ediciler", p: "IPinfo.io, icanhazip.com e Google ara√ßlarƒ±." }
                ]
            },
            id: {
                tagline: "Intelijen Jaringan Global", btnCopy: "SALIN RINGKASAN", btnReset: "KONEKSI SAYA", ipv4: "Alamat IP Publik Anda:", ipv6: "Konektivitas IPv6:", location: "Lokasi", city: "Kota", region: "Wilayah", country: "Negara", noteLocation: "Catatan: Lokasi geografi berdasarkan registri ISP resmi.", provider: "Informasi Penyedia", isp: "ISP (Penyedia Layanan Internet)", org: "Organisasi", search: "Detail Jaringan", subSearch: "Kueri ASN dan WHOIS untuk IP apa pun.", terminal: "üíª Kueri Terminal", toast: "‚úÖ LAPORAN DISALIN", rdap: "Registri & Alokasi (RDAP)", abuse: "Kontak Penyalahgunaan", regDate: "Tanggal Registrasi", lastUpdate: "Pembaruan Terakhir", support: "Email Dukungan", abuseEmail: "Email Penyalahgunaan", asnDetails: "ASN & Perutean", asTitle: "Nomor Sistem Otonom",
                ipv6Query: "KUERI: IPv6 tidak kompatibel dengan IPv4",
                edu: [
                    { h: "Apa itu Alamat IP?", p: "Alamat IP adalah pengidentifikasi unik untuk perangkat di jaringan." },
                    { h: "Tentang CheckMyIP.Today", p: "Kami menyediakan forensik instan pada koneksi jaringan Anda." },
                    { h: "Fitur Utama", p: "Deteksi IPv4/IPv6 dan analisis ASN." },
                    { h: "IP Lokal vs Publik", p: "IP Publik adalah identitas web Anda." },
                    { h: "Cara Kerja Geolocation", p: "Memetakan koneksi digital ke lokasi fisik." },
                    { h: "Pemeriksa Alternatif", p: "Standar tepercaya meliputi IPinfo.io dan Google." }
                ]
            },
            vi: {
                tagline: "T√¨nh b√°o m·∫°ng to√†n c·∫ßu", btnCopy: "SAO CH√âP T√ìM T·∫ÆT", btnReset: "K·∫æT N·ªêI C·ª¶A T√îI", ipv4: "ƒê·ªãa ch·ªâ IP C√¥ng c·ªông:", ipv6: "K·∫øt n·ªëi IPv6:", location: "V·ªã tr√≠", city: "Th√†nh ph·ªë", region: "V√πng", country: "Qu·ªëc gia", noteLocation: "Ghi ch√∫: V·ªã tr√≠ d·ª±a tr√™n c∆° s·ªü d·ªØ li·ªáu ISP.", provider: "Th√¥ng tin nh√† cung c·∫•p", isp: "ISP (Nh√† cung c·∫•p Internet)", org: "T·ªï ch·ª©c", search: "Chi ti·∫øt m·∫°ng", subSearch: "Truy v·∫•n ASN v√† WHOIS.", terminal: "üíª Truy v·∫•n Terminal", toast: "‚úÖ ƒê√É SAO CH√âP", rdap: "ƒêƒÉng k√Ω & C·∫•p ph√°t (RDAP)", abuse: "Li√™n h·ªá l·∫°m d·ª•ng", regDate: "Ng√†y ƒëƒÉng k√Ω", lastUpdate: "C·∫≠p nh·∫≠t cu·ªëi", support: "Email h·ªó tr·ª£", abuseEmail: "Email l·∫°m d·ª•ng", asnDetails: "ASN & ƒê·ªãnh tuy·∫øn", asTitle: "S·ªë hi·ªáu m·∫°ng t·ª± tr·ªã",
                ipv6Query: "TRUY V·∫§N: IPv6 kh√¥ng t∆∞∆°ng th√≠ch v·ªõi IPv4",
                edu: [
                    { h: "ƒê·ªãa ch·ªâ IP l√† g√¨?", p: "ƒê·ªãa ch·ªâ IP l√† m√£ ƒë·ªãnh danh duy nh·∫•t cho c√°c thi·∫øt b·ªã." },
                    { h: "V·ªÅ CheckMyIP.Today", p: "Cung c·∫•p ph√¢n t√≠ch t·ª©c th√¨ v·ªÅ k·∫øt n·ªëi c·ªßa b·∫°n." },
                    { h: "T√≠nh nƒÉng ch√≠nh", p: "Ph√°t hi·ªán IPv4/IPv6 v√† ph√¢n t√≠ch ASN." },
                    { h: "IP n·ªôi b·ªô vs c√¥ng c·ªông", p: "IP c√¥ng c·ªông l√† danh t√≠nh web c·ªßa b·∫°n." },
                    { h: "ƒê·ªãnh v·ªã ho·∫°t ƒë·ªông th·∫ø n√†o?", p: "√Ånh x·∫° k·∫øt n·ªëi k·ªπ thu·∫≠t s·ªë v·ªõi v·ªã tr√≠ v·∫≠t l√Ω." },
                    { h: "C√¥ng c·ª• thay th·∫ø", p: "IPinfo.io, icanhazip.com v√† Google." }
                ]
            },
            hi: {
                tagline: "‡§ó‡•ç‡§≤‡•ã‡§¨‡§≤ ‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï ‡§á‡§Ç‡§ü‡•á‡§≤‡§ø‡§ú‡•á‡§Ç‡§∏", btnCopy: "‡§∏‡§æ‡§∞‡§æ‡§Ç‡§∂ ‡§ï‡•â‡§™‡•Ä ‡§ï‡§∞‡•á‡§Ç", btnReset: "‡§Æ‡•á‡§∞‡§æ ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§®", ipv4: "‡§Ü‡§™‡§ï‡§æ ‡§∏‡§æ‡§∞‡•ç‡§µ‡§ú‡§®‡§ø‡§ï ‡§Ü‡§à‡§™‡•Ä:", ipv6: "‡§Ü‡§à‡§™‡•Ä‡§µ‡•Ä6 ‡§ï‡§®‡•á‡§ï‡•ç‡§ü‡§ø‡§µ‡§ø‡§ü‡•Ä:", location: "‡§∏‡•ç‡§•‡§æ‡§®", city: "‡§∂‡§π‡§∞", region: "‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞", country: "‡§¶‡•á‡§∂", noteLocation: "‡§®‡•ã‡§ü: ‡§≠‡•å‡§ó‡•ã‡§≤‡§ø‡§ï ‡§∏‡•ç‡§•‡§æ‡§® ISP ‡§°‡•á‡§ü‡§æ‡§¨‡•á‡§∏ ‡§™‡§∞ ‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ ‡§π‡•à‡•§", provider: "‡§™‡•ç‡§∞‡§¶‡§æ‡§§‡§æ ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä", isp: "ISP (‡§á‡§Ç‡§ü‡§∞‡§®‡•á‡§ü ‡§∏‡•á‡§µ‡§æ ‡§™‡•ç‡§∞‡§¶‡§æ‡§§‡§æ)", org: "‡§∏‡§Ç‡§ó‡§†‡§®", search: "‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï ‡§µ‡§ø‡§µ‡§∞‡§£", subSearch: "‡§ï‡§ø‡§∏‡•Ä ‡§≠‡•Ä ‡§Ü‡§à‡§™‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è ASN ‡§î‡§∞ WHOIS ‡§ñ‡•ã‡§ú‡•á‡§Ç‡•§", terminal: "üíª ‡§ü‡§∞‡•ç‡§Æ‡§ø‡§®‡§≤ ‡§ï‡•ç‡§µ‡•á‡§∞‡•Ä", toast: "‚úÖ ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§ï‡•â‡§™‡•Ä ‡§ï‡•Ä ‡§ó‡§à", rdap: "‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡•ç‡§∞‡•Ä ‡§î‡§∞ ‡§Ü‡§µ‡§Ç‡§ü‡§® (RDAP)", abuse: "‡§¶‡•Å‡§∞‡•Å‡§™‡§Ø‡•ã‡§ó ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï", regDate: "‡§™‡§Ç‡§ú‡•Ä‡§ï‡§∞‡§£ ‡§§‡§ø‡§•‡§ø", lastUpdate: "‡§Ö‡§Ç‡§§‡§ø‡§Æ ‡§Ö‡§™‡§°‡•á‡§ü", support: "‡§∏‡§π‡§æ‡§Øata ‡§à‡§Æ‡•á‡§≤", abuseEmail: "‡§¶‡•Å‡§∞‡•Å‡§™‡§Ø‡•ã‡§ó ‡§à‡§Æ‡•á‡§≤", asnDetails: "ASN ‡§î‡§∞ ‡§∞‡•Ç‡§ü‡§ø‡§Ç‡§ó", asTitle: "‡§∏‡•ç‡§µ‡§æ‡§Ø‡§§‡•ç‡§§ ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ",
                ipv6Query: "‡§ï‡•ç‡§µ‡•á‡§∞‡•Ä: IPv6 IPv4 ‡§ï‡•á ‡§∏‡§æ‡§• ‡§Ö‡§∏‡§Ç‡§ó‡§§ ‡§π‡•à",
                edu: [
                    { h: "‡§Ü‡§à‡§™‡•Ä ‡§è‡§°‡•ç‡§∞‡•á‡§∏ ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?", p: "‡§Ü‡§à‡§™‡•Ä ‡§è‡§°‡•ç‡§∞‡•á‡§∏ ‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï ‡§™‡§∞ ‡§â‡§™‡§ï‡§∞‡§£‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§ï ‡§µ‡§ø‡§∂‡§ø‡§∑‡•ç‡§ü ‡§™‡§π‡§ö‡§æ‡§®‡§ï‡§∞‡•ç‡§§‡§æ ‡§π‡•à‡•§" },
                    { h: "CheckMyIP.Today ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç", p: "‡§π‡§Æ ‡§Ü‡§™‡§ï‡•á ‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§™‡§∞ ‡§§‡§§‡•ç‡§ï‡§æ‡§≤ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç‡•§" },
                    { h: "‡§™‡•ç‡§∞‡§Æ‡•Å‡§ñ ‡§µ‡§ø‡§∂‡•á‡§∑‡§§‡§æ‡§è‡§Ç", p: "IPv4/IPv6 ‡§ï‡§æ ‡§™‡§§‡§æ ‡§≤‡§ó‡§æ‡§®‡§æ ‡§î‡§∞ ASN ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£‡•§" },
                    { h: "‡§∏‡•ç‡§•‡§æ‡§®‡•Ä‡§Ø ‡§¨‡§®‡§æ‡§Æ ‡§∏‡§æ‡§∞‡•ç‡§µ‡§ú‡§®‡§ø‡§ï ‡§Ü‡§à‡§™‡•Ä", p: "‡§Ü‡§™‡§ï‡§æ ‡§∏‡§æ‡§∞‡•ç‡§µ‡§ú‡§®‡§ø‡§ï ‡§Ü‡§à‡§™‡•Ä ‡§Ü‡§™‡§ï‡•Ä web ‡§™‡§π‡§ö‡§æ‡§® ‡§π‡•à‡•§" },
                    { h: "‡§ú‡§ø‡§Ø‡•ã-‡§≤‡•ã‡§ï‡•á‡§∂‡§® ‡§ï‡•à‡§∏‡•á ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à?", p: "‡§°‡§ø‡§úital ‡§ï‡§®‡•á‡§ï‡•ç‡§∂‡§® ‡§ï‡•ã ‡§≠‡•å‡§§‡§ø‡§ï ‡§∏‡•ç‡§•‡§æ‡§® ‡§∏‡•á ‡§Æ‡•à‡§™ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§" },
                    { h: "‡§µ‡•à‡§ï‡§≤‡•ç‡§™‡§ø‡§ï ‡§ö‡•á‡§ï‡§∞‡•ç‡§∏", p: "‡§µ‡§ø‡§∂‡•ç‡§µ‡§∏‡§®‡•Ä‡§Ø ‡§Æ‡§æ‡§®‡§ï‡•ã‡§Ç ‡§Æ‡•á‡§Ç IPinfo.io ‡§î‡§∞ Google ‡§∂‡§æ‡§Æ‡§ø‡§≤ ‡§π‡•à‡§Ç‡•§" }
                ]
            }
        };

        function updateUI(lang) {
            const t = translations[lang] || translations['en'];
            const mapping = {
                'tagline': 'tagline', 'btn-reset': 'btnReset', 'btn-copy': 'btnCopy', 'label-v4': 'ipv4', 'label-v6': 'ipv6',
                'title-location': 'location', 'label-city': 'city', 'label-region': 'region', 'label-country': 'country',
                'note-location': 'noteLocation', 'title-provider': 'provider', 'label-isp': 'isp', 'label-org': 'org',
                'title-asn-details': 'asnDetails', 'label-as-title': 'asTitle', 'label-terminal': 'terminal',
                'title-rdap': 'rdap', 'label-reg-date': 'regDate', 'label-last-update': 'lastUpdate',
                'title-abuse': 'abuse', 'label-support': 'support', 'label-abuse-email': 'abuseEmail',
                'title-search': 'search', 'sub-search': 'subSearch'
            };

            for (let id in mapping) {
                const el = document.getElementById(id);
                if(el) el.innerText = t[mapping[id]];
            }

            const v6El = document.getElementById('ipv6-display');
            if (v6El && v6El.getAttribute('data-is-query') === 'true') {
                v6El.innerText = t.ipv6Query;
            }

            const eduHtml = t.edu.map(item => `
                <section class="bg-slate-900/30 p-6 rounded-3xl border border-white/5 h-full">
                    <h3 class="text-white font-bold text-lg mb-2 italic">${item.h}</h3>
                    <p class="text-slate-400 text-sm leading-relaxed">${item.p}</p>
                </section>
            `).join('');
            document.getElementById('edu-container').innerHTML = eduHtml;
        }

        async function fetchNetworkData(ip) {
            if (!ip || ip === "...") return;
            const currentLang = document.getElementById('lang-select').value;
            updateUI(currentLang);

            const controller = new AbortController();
            const timeoutId = setTimeout(() => controller.abort(), 6000);

            try {
                const res = await fetch(`https://ipwho.is/${ip}`, { signal: controller.signal });
                const d = await res.json();
                if (d.success) {
                    applyData({
                        city: d.city, region: d.region, country: d.country, 
                        isp: d.connection.isp, org: d.connection.org, 
                        asn: d.connection.asn, cc: d.country_code
                    });
                    fetchRDAP(ip);
                }
            } catch(e) { console.warn("API error..."); setNA(); }
            clearTimeout(timeoutId);
        }

        function setNA() {
            ['info-city', 'info-region', 'info-country', 'info-isp', 'info-org', 'info-asn'].forEach(id => {
                document.getElementById(id).innerText = "N/A";
            });
        }

        function applyData(d) {
            document.getElementById('info-city').innerText = d.city || "N/A";
            document.getElementById('info-region').innerText = d.region || "N/A";
            document.getElementById('info-country').innerText = d.country || "N/A";
            document.getElementById('info-isp').innerText = d.isp || "N/A";
            document.getElementById('info-org').innerText = d.org || d.isp || "N/A";
            document.getElementById('info-asn').innerText = d.asn ? `AS${d.asn}` : "N/A";

            // S√≥ altera idioma automaticamente se n√£o houver trava de manualLang (ou forceLang da Worker)
            if(!window.manualLang && d.cc) {
                const map = { 'BR': 'pt', 'PT': 'pt', 'RU': 'ru', 'TR': 'tr', 'ID': 'id', 'VN': 'vi', 'IN': 'hi' };
                const target = map[d.cc] || 'en';
                document.getElementById('lang-select').value = target;
                updateUI(target);
            }
        }

        async function fetchRDAP(ip) {
            try {
                const res = await fetch(`https://rdap.db.ripe.net/ip/${ip}`);
                const d = await res.json();
                document.getElementById('registry-created').innerText = (d.events?.find(e => e.eventAction === 'registration')?.eventDate || "N/A").split('T')[0];
                document.getElementById('registry-updated').innerText = (d.events?.find(e => e.eventAction === 'last changed')?.eventDate || "N/A").split('T')[0];
                let emails = { support: "N/A", abuse: "N/A" };
                const extract = (ents) => {
                    ents?.forEach(e => {
                        e.vcardArray?.[1].forEach(v => {
                            if(v[0] === 'email') {
                                if(v[3].toLowerCase().includes('abuse')) emails.abuse = v[3];
                                else emails.support = v[3];
                            }
                        });
                        if(e.entities) extract(e.entities);
                    });
                };
                extract(d.entities);
                document.getElementById('registry-email').innerText = emails.support;
                document.getElementById('registry-abuse').innerText = emails.abuse !== "N/A" ? emails.abuse : emails.support;
            } catch(e) {}
        }

        async function detectIPv6() {
            const v6El = document.getElementById('ipv6-display');
            try {
                const res = await fetch('https://api64.ipify.org?format=json');
                const data = await res.json();
                v6El.innerText = data.ip.includes(':') ? data.ip : "NOT DETECTED";
            } catch (e) { v6El.innerText = "NOT DETECTED"; }
            v6El.classList.remove('loading-pulse');
            v6El.setAttribute('data-is-query', 'false');
        }

        function manualLookup() {
            const ip = document.getElementById('ip-lookup-input').value.trim();
            if(!ip) return;
            window.manualLang = true;
            document.getElementById('ipv4-display').innerText = ip;
            fetchNetworkData(ip);
        }

        function manualLanguageChange() {
            window.manualLang = true;
            updateUI(document.getElementById('lang-select').value);
        }

        function copyPageSummary() {
            const ip = document.getElementById('ipv4-display').innerText;
            const summary = `CheckMyIP.Today Report\nIP: ${ip}\nGenerated: ${new Date().toISOString()}`;
            const el = document.createElement('textarea');
            el.value = summary;
            document.body.appendChild(el);
            el.select();
            document.execCommand('copy');
            document.body.removeChild(el);
            const toast = document.getElementById('copy-toast');
            toast.classList.remove('hidden');
            setTimeout(() => toast.classList.add('hidden'), 2000);
        }

        window.onload = () => {
            document.getElementById('main-body').classList.add('ready');
            
            // Se a Worker injetou um idioma, usamos ele primeiro
            if (window.forceLang) {
                document.getElementById('lang-select').value = window.forceLang;
            }
            
            updateUI(document.getElementById('lang-select').value);
            
            fetch('https://api.ipify.org?format=json').then(r => r.json()).then(d => {
                document.getElementById('ipv4-display').innerText = d.ip;
                document.getElementById('ipv4-display').classList.remove('loading-pulse');
                fetchNetworkData(d.ip);
            });
            detectIPv6();
        };
    </script>
</body>
</html>
