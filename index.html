<!DOCTYPE html>
<html lang="en-US" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Check My IP Today - IP Lookup & Whois Tool</title>
    
    <link rel="preconnect" href="https://api.ipify.org">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Script de detec√ß√£o RAW -->
    <script>
        (async function() {
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.has('raw')) {
                try {
                    const res = await fetch('https://api.ipify.org?format=json');
                    const data = await res.json();
                    document.open();
                    document.write(data.ip);
                    document.close();
                } catch (e) {
                    document.write("Error detecting IP");
                }
                return;
            }
        })();
    </script>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-CPDBZNF3CT"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-CPDBZNF3CT');
    </script>

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: { 'primary-dark': '#0f172a', 'secondary-dark': '#1e293b', 'accent': '#3b82f6' },
                    fontFamily: { sans: ['Inter', 'sans-serif'], mono: ['Fira Code', 'monospace'] },
                }
            }
        }
    </script>

    <style>
        :root { font-display: swap; }
        body { transition: background-color 0.3s, color 0.3s; }
        
        .skeleton { background: linear-gradient(90deg, #e2e8f0 25%, #cbd5e1 50%, #e2e8f0 75%); background-size: 200% 100%; animation: loading 1.5s infinite; }
        .dark .skeleton { background: linear-gradient(90deg, #1e293b 25%, #334155 50%, #1e293b 75%); background-size: 200% 100%; }
        
        @keyframes loading { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }
        
        .terminal-box { font-family: 'Fira Code', monospace; border-radius: 12px; transition: all 0.3s; }
        .terminal-light { background-color: #f8fafc; color: #1e293b; border: 1px solid #e2e8f0; shadow: inset 0 1px 2px rgba(0,0,0,0.05); }
        .dark .terminal-dark-box { background-color: #0d1117; color: #e6edf3; border: 1px solid #30363d; }

        #lang-selector option {
            background-color: white !important;
            color: #1e293b !important;
        }
        .dark #lang-selector option {
            background-color: #1e293b !important;
            color: #f1f5f9 !important;
        }
    </style>
</head>
<body class="bg-white text-slate-900 dark:bg-primary-dark dark:text-gray-100 min-h-screen flex flex-col">

    <header class="w-full max-w-6xl mx-auto px-6 py-8 flex justify-between items-center">
        <h1 class="text-2xl font-extrabold tracking-tight">Check My IP <span class="text-accent italic">Today</span></h1>
        <div class="flex items-center gap-4">
            <select id="lang-selector" class="bg-gray-100 dark:bg-secondary-dark border border-gray-300 dark:border-gray-700 rounded-lg px-3 py-1.5 text-xs font-bold text-slate-700 dark:text-gray-200 cursor-pointer transition-colors">
                <option value="en">English</option>
                <option value="pt">Portugu√™s</option>
            </select>
            <button id="theme-toggle" class="p-2.5 rounded-lg bg-gray-100 dark:bg-secondary-dark hover:ring-2 ring-accent transition-all text-slate-700 dark:text-gray-200">
                <svg id="theme-icon" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"></svg>
            </button>
        </div>
    </header>

    <main class="flex-grow container mx-auto px-4 py-6 max-w-4xl space-y-8">
        
        <!-- SE√á√ÉO WHOIS AVAN√áADA -->
        <section class="space-y-4">
            <div class="flex flex-col gap-1">
                <h3 id="label-whois-title" class="text-xl font-bold px-1 flex items-center gap-2 text-slate-800 dark:text-white">
                    <span class="text-accent">üîç</span> Network & Organization Details
                </h3>
                <p id="label-whois-desc" class="text-sm text-slate-600 dark:text-slate-300 px-1 font-medium">Lookup any IP address for detailed ASN, ISP and WHOIS records.</p>
            </div>
            
            <div class="flex flex-col md:flex-row gap-3">
                <div class="relative flex-grow">
                    <input id="whois-input" type="text" placeholder="Enter IP for deep lookup..." 
                        class="w-full bg-gray-50 dark:bg-secondary-dark border border-gray-200 dark:border-gray-700 rounded-2xl px-6 py-4 text-lg outline-none focus:ring-4 ring-accent/20 transition-all shadow-md text-slate-900 dark:text-white font-mono">
                </div>
                <button id="whois-btn" class="bg-accent hover:bg-blue-600 text-white font-bold px-8 py-4 rounded-2xl shadow-lg transition-all transform active:scale-95">
                    Lookup
                </button>
            </div>
            
            <div id="whois-terminal" class="terminal-box terminal-light dark:terminal-dark-box p-6 text-[11px] md:text-xs leading-relaxed overflow-x-auto min-h-[100px] hidden shadow-inner border">
            </div>
        </section>

        <!-- CARD DE IP PRINCIPAL -->
        <div class="bg-white dark:bg-secondary-dark rounded-3xl shadow-2xl border border-gray-200 dark:border-gray-800 overflow-hidden">
            <div class="p-8 md:p-12 text-center border-b border-gray-100 dark:border-gray-800 bg-gradient-to-b from-transparent to-gray-50 dark:to-primary-dark/5">
                <h2 id="label-your-ip" class="text-sm font-bold text-slate-500 dark:text-slate-400 uppercase tracking-widest mb-6">Your Public IP Address</h2>
                <div id="ipv4-display" class="text-5xl md:text-8xl font-black tracking-tighter text-accent break-all">
                     <div class="h-20 w-64 mx-auto skeleton rounded-2xl"></div>
                </div>
                <p class="text-[10px] font-bold text-slate-500 dark:text-slate-400 mt-2 uppercase tracking-widest">IPv4 Protocol</p>
                
                <div class="mt-8 pt-6 border-t border-gray-100 dark:border-gray-800/50 max-w-sm mx-auto">
                    <div id="ipv6-display" class="text-xs md:text-base font-mono text-slate-700 dark:text-slate-300 break-all font-bold">
                        <div class="h-5 w-56 mx-auto skeleton rounded mt-2"></div>
                    </div>
                    <p class="text-[9px] font-bold text-slate-500 dark:text-slate-400 mt-1 uppercase tracking-widest">IPv6 Protocol</p>
                </div>
            </div>

            <!-- GRID DE INFORMA√á√ïES -->
            <div class="p-8 grid grid-cols-1 md:grid-cols-2 gap-8 bg-gray-50/50 dark:bg-primary-dark/20">
                <div id="geo-details" class="space-y-4">
                    <h3 id="label-loc-info" class="font-bold flex items-center gap-2 text-sm uppercase text-slate-500 dark:text-slate-400"><span class="w-1.5 h-4 bg-accent rounded-full"></span> Location Info</h3>
                    <div id="geo-grid" class="grid grid-cols-2 gap-3">
                        <div class="h-12 skeleton rounded-xl"></div><div class="h-12 skeleton rounded-xl"></div>
                        <div class="h-12 skeleton rounded-xl"></div><div class="h-12 skeleton rounded-xl"></div>
                    </div>
                </div>
                <div id="network-details" class="space-y-4">
                    <h3 id="label-prov-info" class="font-bold flex items-center gap-2 text-sm uppercase text-slate-500 dark:text-slate-400"><span class="w-1.5 h-4 bg-blue-400 rounded-full"></span> Provider Info</h3>
                    <div id="net-grid" class="space-y-3">
                        <div class="h-28 skeleton rounded-xl"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SE√á√ÉO TERMINAL -->
        <section class="bg-gray-100 dark:bg-secondary-dark rounded-3xl p-8 space-y-6 border border-gray-200 dark:border-none shadow-sm">
            <h3 id="label-terminal-check" class="text-lg font-bold flex items-center gap-2 text-slate-800 dark:text-white">üíª Check IP via Terminal</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="space-y-3">
                    <p class="text-[10px] font-bold text-slate-600 dark:text-slate-300 uppercase tracking-widest px-1">Linux / macOS / Unix</p>
                    <div class="terminal-box terminal-light dark:terminal-dark-box p-4 text-xs flex justify-between items-center">
                        <code class="font-bold">curl ifconfig.me</code>
                        <button onclick="copyToClipboard('curl ifconfig.me')" class="text-accent font-black px-2 hover:scale-110 transition-transform">Copy</button>
                    </div>
                </div>
                <div class="space-y-3">
                    <p class="text-[10px] font-bold text-slate-600 dark:text-slate-300 uppercase tracking-widest px-1">Windows (PowerShell)</p>
                    <div class="terminal-box terminal-light dark:terminal-dark-box p-4 text-xs flex justify-between items-center">
                        <code class="font-bold">curl.exe ifconfig.me</code>
                        <button onclick="copyToClipboard('curl.exe ifconfig.me')" class="text-accent font-black px-2 hover:scale-110 transition-transform">Copy</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- DEVELOPER TOOLS -->
        <div class="bg-gray-100 dark:bg-secondary-dark rounded-3xl p-8 space-y-6 border border-gray-200 dark:border-none shadow-sm">
            <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
                <h3 id="label-terminal-tools" class="text-lg font-bold flex items-center gap-2 text-slate-800 dark:text-white">üõ†Ô∏è Developer Tools</h3>
                <div class="bg-accent/20 text-accent dark:bg-accent/10 text-accent text-[10px] font-bold px-3 py-1 rounded-full uppercase tracking-tighter">API Lite Enabled</div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                <div class="space-y-2">
                    <p class="text-[10px] font-bold text-slate-600 dark:text-slate-300 uppercase tracking-widest px-1">Raw IP Text (For Scripts)</p>
                    <div class="terminal-box terminal-light dark:terminal-dark-box p-4 text-xs flex justify-between items-center group">
                        <code class="font-bold">checkmyip.today?raw</code>
                        <button onclick="copyToClipboard('https://checkmyip.today?raw')" class="text-accent font-black px-2 hover:scale-110 transition-transform">Copy URL</button>
                    </div>
                </div>
                <div class="space-y-2">
                    <p class="text-[10px] font-bold text-slate-600 dark:text-slate-300 uppercase tracking-widest px-1">Direct CLI Check</p>
                    <div class="terminal-box terminal-light dark:terminal-dark-box p-4 text-xs flex justify-between items-center group">
                        <code class="font-bold">curl checkmyip.today?raw</code>
                        <button onclick="copyToClipboard('curl checkmyip.today?raw')" class="text-accent font-black px-2 hover:scale-110 transition-transform">Copy</button>
                    </div>
                </div>
            </div>
            <p id="label-raw-desc" class="text-[11px] text-slate-700 dark:text-slate-200 font-medium leading-relaxed">
                Adding <code class="font-bold bg-gray-200 dark:bg-gray-700 px-1 rounded text-accent">?raw</code> to the URL returns only the IP address as plain text, ideal for automation scripts.
            </p>
        </div>
    </main>

    <footer class="py-12 text-center text-slate-500 dark:text-slate-400 text-[10px] md:text-xs border-t border-gray-200 dark:border-gray-800 mt-12 bg-gray-50/50 dark:bg-white/5">
        <div class="flex justify-center gap-6 mb-4 font-bold uppercase tracking-widest">
            <a href="glossary.html" id="footer-glossary" class="hover:text-accent transition-colors">Network Glossary</a>
            <span class="opacity-30">|</span>
            <a href="ipv6-location.html" id="footer-ipv6" class="hover:text-accent transition-colors">Why S√£o Paulo?</a>
        </div>
        <p class="font-bold mb-1 italic">CheckMyIP.Today</p>
        <p>&copy; 2024 Professional Network Diagnostics.</p>
    </footer>

    <script>
        const translations = {
            en: {
                yourIp: "Your Public IP Address",
                whoisTitle: "Network & Organization Details",
                whoisDesc: "Lookup any IP address for detailed ASN, ISP and WHOIS records.",
                locInfo: "Location Info",
                provInfo: "Provider Info",
                terminalCheck: "Check IP via Terminal",
                terminalTools: "Developer Tools",
                rawDesc: "Adding <code class='font-bold bg-gray-200 dark:bg-gray-700 px-1 rounded text-accent'>?raw</code> to the URL returns only the IP address as plain text, ideal for automation scripts.",
                lookup: "Lookup",
                loading: "Querying global records...",
                country: "Country", city: "City", isp: "Provider", timezone: "Timezone", asn: "ASN",
                netInfo: "Network Information", orgInfo: "Organization / Entity", regStatus: "Registration Status", contactInfo: "Abuse & Tech Contacts", security: "Security & Flags",
                footerGlossary: "Network Glossary", footerIpv6: "Why S√£o Paulo?"
            },
            pt: {
                yourIp: "Seu Endere√ßo IP P√∫blico",
                whoisTitle: "Detalhes de Rede e Organiza√ß√£o",
                whoisDesc: "Consulte qualquer endere√ßo IP para obter registros detalhados de ASN, ISP e WHOIS.",
                locInfo: "Informa√ß√µes de Localiza√ß√£o",
                provInfo: "Informa√ß√µes do Provedor",
                terminalCheck: "Verificar IP via Terminal",
                terminalTools: "Ferramentas para Desenvolvedores",
                rawDesc: "Adicionar <code class='font-bold bg-gray-200 dark:bg-gray-700 px-1 rounded text-accent'>?raw</code> √† URL retorna apenas o endere√ßo IP em texto puro, ideal para scripts de automa√ß√£o.",
                lookup: "Consultar",
                loading: "Consultando registros globais...",
                country: "Pa√≠s", city: "Cidade", isp: "Provedor", timezone: "Fuso Hor√°rio", asn: "N√∫mero ASN",
                netInfo: "Informa√ß√µes de Rede", orgInfo: "Organiza√ß√£o / Entidade", regStatus: "Status do Registro", contactInfo: "Contatos de Abuso e T√©cnicos", security: "Seguran√ßa e Flags",
                footerGlossary: "Gloss√°rio de Rede", footerIpv6: "Por que S√£o Paulo?"
            }
        };

        let currentLang = 'en';
        let lastGeoData = null;

        function updateLanguage() {
            const t = translations[currentLang];
            document.getElementById('label-your-ip').innerText = t.yourIp;
            document.getElementById('label-whois-title').innerHTML = `<span class="text-accent">üîç</span> ${t.whoisTitle}`;
            document.getElementById('label-whois-desc').innerText = t.whoisDesc;
            document.getElementById('label-terminal-check').innerText = `üíª ${t.terminalCheck}`;
            document.getElementById('label-terminal-tools').innerText = `üõ†Ô∏è ${t.terminalTools}`;
            document.getElementById('label-raw-desc').innerHTML = t.rawDesc;
            document.getElementById('label-loc-info').innerHTML = `<span class="w-1.5 h-4 bg-accent rounded-full"></span> ${t.locInfo}`;
            document.getElementById('label-prov-info').innerHTML = `<span class="w-1.5 h-4 bg-blue-400 rounded-full"></span> ${t.provInfo}`;
            document.getElementById('whois-btn').innerText = t.lookup;
            document.getElementById('whois-input').placeholder = currentLang === 'pt' ? "Digite o IP para busca profunda..." : "Enter IP for deep lookup...";
            document.getElementById('footer-glossary').innerText = t.footerGlossary;
            document.getElementById('footer-ipv6').innerText = t.footerIpv6;
            if (lastGeoData) renderGeoGrid(lastGeoData);
        }

        async function fetchMainData() {
            const ipv4Disp = document.getElementById('ipv4-display');
            const ipv6Disp = document.getElementById('ipv6-display');

            try {
                const [v4res, v6res] = await Promise.allSettled([
                    fetch('https://api.ipify.org?format=json').then(r => r.json()),
                    fetch('https://api64.ipify.org?format=json').then(r => r.json())
                ]);

                const v4 = v4res.status === 'fulfilled' ? v4res.value.ip : 'Not Detected';
                const v6 = v6res.status === 'fulfilled' ? v6res.value.ip : 'Not Detected';

                ipv4Disp.innerHTML = v4 !== 'Not Detected' ? `<span class="text-accent">${v4}</span>` : `<span class="text-slate-300 dark:text-gray-700 text-3xl">N/A</span>`;
                ipv6Disp.innerText = v6;

                const mainIp = v4 !== 'Not Detected' ? v4 : v6;
                if (mainIp !== 'Not Detected') {
                    loadGeo(mainIp);
                }
            } catch (e) { ipv4Disp.innerText = "Error"; }
        }

        async function loadGeo(ip) {
            try {
                const res = await fetch(`https://ipapi.co/${ip}/json/`);
                lastGeoData = await res.json();
                renderGeoGrid(lastGeoData);
                fetchWhois(ip);
            } catch (e) { console.error(e); }
        }

        function renderGeoGrid(d) {
            const t = translations[currentLang];
            document.getElementById('geo-grid').innerHTML = `
                <div class="bg-white dark:bg-secondary-dark p-4 rounded-2xl border border-gray-100 dark:border-gray-800 shadow-sm">
                    <p class="text-[9px] text-slate-500 dark:text-slate-400 font-bold uppercase tracking-widest mb-1">${t.country}</p>
                    <p class="font-bold text-sm truncate text-slate-800 dark:text-gray-200">${d.country_name || 'N/A'}</p>
                </div>
                <div class="bg-white dark:bg-secondary-dark p-4 rounded-2xl border border-gray-100 dark:border-gray-800 shadow-sm">
                    <p class="text-[9px] text-slate-500 dark:text-slate-400 font-bold uppercase tracking-widest mb-1">${t.city}</p>
                    <p class="font-bold text-sm truncate text-slate-800 dark:text-gray-200">${d.city || 'N/A'}</p>
                </div>
                <div class="bg-white dark:bg-secondary-dark p-4 rounded-2xl border border-gray-100 dark:border-gray-800 shadow-sm">
                    <p class="text-[9px] text-slate-500 dark:text-slate-400 font-bold uppercase tracking-widest mb-1">${t.timezone}</p>
                    <p class="font-bold text-[10px] truncate text-slate-800 dark:text-gray-200">${d.timezone || 'N/A'}</p>
                </div>
                <div class="bg-white dark:bg-secondary-dark p-4 rounded-2xl border border-gray-100 dark:border-gray-800 shadow-sm">
                    <p class="text-[9px] text-slate-500 dark:text-slate-400 font-bold uppercase tracking-widest mb-1">LAT/LONG</p>
                    <p class="font-bold text-[10px] text-slate-800 dark:text-gray-200">${d.latitude}, ${d.longitude}</p>
                </div>
            `;

            document.getElementById('net-grid').innerHTML = `
                <div class="bg-white dark:bg-secondary-dark p-5 rounded-2xl border border-gray-100 dark:border-gray-800 h-full flex flex-col justify-center shadow-sm">
                    <div>
                        <p class="text-[9px] text-slate-500 dark:text-slate-400 font-bold uppercase tracking-widest mb-1">${t.isp}</p>
                        <p class="font-bold text-base text-accent leading-tight">${d.org || 'N/A'}</p>
                    </div>
                    <div class="mt-4 pt-4 border-t border-gray-100 dark:border-gray-800">
                        <p class="text-[9px] text-slate-500 dark:text-slate-400 font-bold uppercase tracking-widest mb-1">${t.asn}</p>
                        <p class="font-mono text-xs font-bold text-slate-700 dark:text-gray-300">${d.asn || 'N/A'}</p>
                    </div>
                </div>
            `;
        }

        async function fetchWhois(ip) {
            const term = document.getElementById('whois-terminal');
            const t = translations[currentLang];
            term.classList.remove('hidden');
            term.innerHTML = `<div class="flex items-center gap-2 text-slate-700 dark:text-slate-200 font-bold"><div class="h-2 w-2 bg-accent rounded-full animate-ping"></div> ${t.loading}</div>`;
            
            try {
                // Fetch RDAP (WHOIS moderno)
                const rdapRes = await fetch(`https://rdap.db.ripe.net/ip/${ip}`);
                const rdap = await rdapRes.json();
                
                // Fetch Geo Adicional (para o IP pesquisado)
                const geoRes = await fetch(`https://ipapi.co/${ip}/json/`);
                const geo = await geoRes.json();

                const network = `${rdap.startAddress} - ${rdap.endAddress}`;
                const handle = rdap.handle || 'N/A';
                const status = rdap.status ? rdap.status.join(', ').toUpperCase() : 'N/A';
                const org = rdap.name || 'N/A';
                
                // Extra√ß√£o de contatos de abuso (procurando nas entidades)
                let abuseEmail = 'Not Found';
                if(rdap.entities) {
                    rdap.entities.forEach(ent => {
                        if(ent.vcardArray) {
                            const vcard = ent.vcardArray[1];
                            const emailEntry = vcard.find(v => v[0] === 'email');
                            if(emailEntry) abuseEmail = emailEntry[3];
                        }
                    });
                }

                const entities = rdap.entities ? rdap.entities.map(e => `[${e.roles?.join('/') || 'ENTITY'}] ${e.handle}`).join('\n') : 'No contacts listed';

                const output = `
[ ${t.netInfo.toUpperCase()} ]
-----------------------------------------------------------
RANGE:       ${network}
HOSTNAME:    ${geo.hostname || 'No reverse DNS record'}
VERSION:     IP${rdap.ipVersion || 'v4'}
ASN:         ${geo.asn || 'N/A'}
ORGANIZATION:${geo.org || org}

[ ${t.security.toUpperCase()} ]
-----------------------------------------------------------
COUNTRY:     ${geo.country_name || 'N/A'} (${geo.country_code || '??'})
PROXY/VPN:   ${geo.proxy ? '‚ö†Ô∏è YES' : 'NO'}
MOBILE:      ${geo.is_mobile ? 'YES' : 'NO'}
ABUSE EMAIL: ${abuseEmail}

[ ${t.regStatus.toUpperCase()} ]
-----------------------------------------------------------
STATUS:      ${status}
ALLOCATED:   ${geo.asn_organization || 'N/A'}
POSTAL CODE: ${geo.postal || 'N/A'}

[ ${t.contactInfo.toUpperCase()} ]
-----------------------------------------------------------
${entities}

-----------------------------------------------------------
>> REMOTE LOOKUP FINISHED FOR: ${ip}`;

                term.innerHTML = `<pre class="whitespace-pre-wrap">${output}</pre>`;
            } catch (e) {
                term.innerHTML = `<div class="text-red-500 font-bold">Error: IP not found in global registry (RDAP).</div>`;
            }
        }

        function copyToClipboard(text) {
            const el = document.createElement('textarea');
            el.value = text;
            document.body.appendChild(el);
            el.select();
            document.execCommand('copy');
            document.body.removeChild(el);
        }

        function updateThemeIcon() {
            const isDark = document.documentElement.classList.contains('dark');
            const icon = document.getElementById('theme-icon');
            icon.innerHTML = isDark ? 
                '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364-6.364l-.707.707M6.343 17.657l-.707.707M16.242 16.242l.707.707M7.758 7.758l.707.707M12 5a7 7 0 100 14 7 7 0 000-14z"></path>' : 
                '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>';
        }

        document.getElementById('lang-selector').onchange = (e) => {
            currentLang = e.target.value;
            updateLanguage();
        };

        document.getElementById('whois-btn').onclick = () => {
            const val = document.getElementById('whois-input').value.trim();
            if(val) fetchWhois(val);
        };

        document.getElementById('theme-toggle').onclick = () => {
            document.documentElement.classList.toggle('dark');
            updateThemeIcon();
        };

        window.onload = () => {
            updateLanguage();
            fetchMainData();
            updateThemeIcon();
        };
    </script>
</body>
</html>
